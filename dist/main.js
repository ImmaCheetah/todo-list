(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{kj:()=>h,F5:()=>v,k3:()=>E,HA:()=>g,QP:()=>U,mo:()=>p,qQ:()=>k});const t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const n=new Uint8Array(16);function d(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(n)}const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));const l=function(e,o,n){if(t.randomUUID&&!o&&!e)return t.randomUUID();const l=(e=e||{}).random||(e.rng||d)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,o){n=n||0;for(let e=0;e<16;++e)o[n+e]=l[e];return o}return function(e,t=0){return r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]}(l)};function a(e,t,o,n,d=l()){let r=!1;const a=()=>r;e=e.toString(),t=t.toString();const i=e=>{n=e};return{get title(){return e},get description(){return t},get dueDate(){return o},get priority(){return n},getCompleteState:a,setComplete:()=>{r=0==a()},changePriority:i,editTask:(n,d,r,l)=>{e=n,t=d,o=r,i(l)},printTask:()=>{console.log(`Task title - ${e}, Desc - ${t}, Date - ${o}, Priority - ${n}`)},myTaskUuid:d}}function i(e,t=l()){let o=[];return{title:e,tasks:o,myFolderUuid:t,addTask:e=>{o.push(e)},displayTasks:()=>{for(let e=0;e<o.length;e++)console.log(`Task ${e} - ${o[e].title}, ${o[e].dueDate}, ${o[e].priority}`)},deleteTask:e=>{for(let t=o.length-1;t>=0;--t)o[t].myTaskUuid===e.myTaskUuid&&o.splice(t,1)}}}function s(e=l()){let t=[];return{folders:t,addFolder:e=>{t.push(e)},deleteFolder:e=>{for(let o=t.length-1;o>=0;--o)t[o].myFolderUuid===e.myFolderUuid&&t.splice(o,1);localStorage.removeItem(e.myFolderUuid)},mySuperFolderUuid:e}}function c(e){e.tasks.forEach((e=>{!function(e,t){let o=function(e){const t=document.createElement("div"),o=document.createElement("p"),n=document.createElement("p"),d=document.createElement("p"),r=document.createElement("p");return t.classList.add("task-div"),o.textContent=e.title,n.textContent=e.description,d.textContent=e.dueDate,r.textContent=e.priority,t.appendChild(o),t.appendChild(n),t.appendChild(d),t.appendChild(r),(function(e){const t=document.createElement("button");return t.classList.add("task-delete-btn"),t.textContent="-",e.appendChild(t),t.addEventListener("click",(function(e){let t=e.target;E(t.value),t.parentNode.remove(),k()})),t}(t)).value=e.myTaskUuid,(function(e){const t=document.createElement("button");return t.classList.add("task-edit-btn"),t.textContent="+",e.appendChild(t),t.addEventListener("click",(function(e){const t=document.getElementById("edit-form"),o=document.createElement("button");o.classList.add("edit-btn-id"),o.value=e.target.value,t.appendChild(o),function(e){const t=document.getElementById("edit-form"),o=t.elements["task-title"],n=t.elements["task-description"],d=t.elements["task-due-date"],r=t.elements["task-priority"];o.value=e.title,n.value=e.description,d.value=e.dueDate,r.value=e.priority}(U(e.target.value)),p().showModal()})),t}(t)).value=e.myTaskUuid,(function(e){const t=document.createElement("button");return t.classList.add("task-status-btn"),t.textContent="âœ”",e.appendChild(t),t.addEventListener("click",(function(e){let t=e.target;var o;h(t.value),(o=t).parentNode.classList.contains("complete-task")?o.parentNode.classList.remove("complete-task"):o.parentNode.classList.add("complete-task")})),t}(t)).value=e.myTaskUuid,t}(e);document.getElementById(["task-container"]).appendChild(o)}(e)}))}function u(e){let t=function(e){const t=document.querySelector(".sidebar"),o=document.createElement("div"),n=document.createElement("button");if(o.classList.add("folder-div"),n.classList.add("folder-button"),n.textContent=e.title,n.value=e.myFolderUuid,o.appendChild(n),(function(e){const t=document.createElement("button");return t.classList.add("folder-delete-btn"),t.textContent="-",e.appendChild(t),t.addEventListener("click",(function(e){let t=e.target;v(t.value),t.parentNode.remove(),k()})),t}(o)).value=e.myFolderUuid,"inboxFolder"===e.myFolderUuid){let e=o.childNodes[1];e.parentNode.removeChild(e)}return t.appendChild(o),n.addEventListener("click",(function(){let t=e.myFolderUuid;return g(e.myFolderUuid),console.log(e.title,e.myFolderUuid),t})),o}(e);const o=document.querySelector(".sidebar"),n=document.querySelector(".inbox-div");"inboxFolder"===e.myFolderUuid?n.appendChild(t):o.appendChild(t)}let m=s("123456");function f(){return document.getElementById("task-dialog")}function p(){return document.getElementById("edit-dialog")}function y(e){const{mySuperFolderUuid:t}=e;return m=s(t),e.folders.forEach((e=>{m.addFolder(function(e){const{title:t,myFolderUuid:o}=e;let n=i(t,o);return e.tasks.forEach((e=>{n.addTask(function(e){const{title:t,description:o,dueDate:n,priority:d,myTaskUuid:r}=e;return a(t,o,n,d,r)}(e))})),n}(e))})),console.log("from recreate super folder function",m),m}function k(){localStorage.setItem("folders",JSON.stringify(m))}function g(e){m.folders.forEach((t=>{e===t.myFolderUuid&&(document.getElementById("task-container").textContent="",c(t),console.log("match found"))}))}function v(e){m.folders.forEach((t=>{e===t.myFolderUuid&&(console.log(e),m.deleteFolder(t))}))}function E(e){m.folders.forEach((t=>{t.tasks.forEach((o=>{e===o.myTaskUuid&&t.deleteTask(o)}))}))}function h(e){m.folders.forEach((t=>{t.tasks.forEach((t=>{e===t.myTaskUuid&&t.setComplete()}))}))}function U(e){let t;return m.folders.forEach((o=>{o.tasks.forEach((o=>{e===o.myTaskUuid&&(t=o)}))})),t}document.getElementById("open-task-modal-btn").addEventListener("click",(function(){f().reset,f().showModal(),function(e){const t=document.getElementById("folder-selection");!function(e){for(let t=e.options.length;t>=0;t--)e.remove(0)}(t),e.folders.forEach((e=>{const o=document.createElement("option");o.textContent=e.title,o.value=e.myFolderUuid,t.appendChild(o)}))}(JSON.parse(localStorage.getItem("folders")))})),document.getElementById("folder-add-btn").addEventListener("click",(function(){document.getElementById("folder-form").reset(),document.getElementById("folder-dialog").showModal()})),document.getElementById("folder-confirm-btn").addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("folder-dialog"),{folderTitleInForm:o}=function(){const e=document.getElementById("folder-form");return{folderForm:e,folderTitleInForm:e.elements["folder-title"].value}}();let n=i(o);u(n),m.addFolder(n),localStorage.setItem("folders",JSON.stringify(m)),y(JSON.parse(localStorage.getItem("folders"))),t.close()})),document.getElementById("task-add-btn").addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("folder-selection").value,{taskTitle:o,taskDescription:n,taskDueDate:d,taskPriority:r}=function(){const e=document.getElementById("main-form"),t=e.elements["task-title"],o=e.elements["task-description"],n=e.elements["task-due-date"],d=e.elements["task-priority"];return{taskTitle:t.value,taskDescription:o.value,taskDueDate:n.value,taskPriority:d.value}}(),l=a(o,n,d,r);m.folders.forEach((e=>{t===e.myFolderUuid&&e.addTask(l)})),localStorage.setItem("folders",JSON.stringify(m)),y(JSON.parse(localStorage.getItem("folders"))),g(t),document.getElementById("main-form").reset(),f().close()})),document.getElementById("task-edit-btn").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(".edit-btn-id"),{taskTitle:o,taskDescription:n,taskDueDate:d,taskPriority:r}=function(){const e=document.getElementById("edit-form"),t=e.elements["task-title"],o=e.elements["task-description"],n=e.elements["task-due-date"],d=e.elements["task-priority"];return{taskTitle:t.value,taskDescription:o.value,taskDueDate:n.value,taskPriority:d.value}}();m.folders.forEach((e=>{e.tasks.forEach((l=>{t.value===l.myTaskUuid&&(l.editTask(o,n,d,r),g(e.myFolderUuid),console.log(l))}))})),k(),t.remove(),p().close()})),function(){if(localStorage.getItem("folders")){let e=JSON.parse(localStorage.getItem("folders"));y(e),m.folders.forEach((e=>{u(e)})),console.log("Inside of loading preset, after displaying",e)}else{const e=a("chores","wash dishes","nov 23","high"),t=a("movies","avatar","nov 29","med"),o=a("coding","todo list","dec 10","low");let n=i("Inbox","inboxFolder");n.addTask(e),m.addFolder(n),u(n);let d=i("test2");d.addTask(t),d.addTask(e),d.addTask(o),d.deleteTask(t),m.addFolder(d),u(d),console.log("else stuf happened")}}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUJBLEVBQXdCLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRILEVBQXdCLENBQUNTLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEkseUVDQWxGLE1BQ0EsR0FDRUksV0FGbUMsb0JBQVhDLFFBQTBCQSxPQUFPRCxZQUFjQyxPQUFPRCxXQUFXRSxLQUFLRCxTQ0doRyxJQUFJRSxFQUNKLE1BQU1DLEVBQVEsSUFBSUMsV0FBVyxJQUNkLFNBQVNDLElBRXRCLElBQUtILElBRUhBLEVBQW9DLG9CQUFYRixRQUEwQkEsT0FBT0UsaUJBQW1CRixPQUFPRSxnQkFBZ0JELEtBQUtELFNBRXBHRSxHQUNILE1BQU0sSUFBSUksTUFBTSw0R0FJcEIsT0FBT0osRUFBZ0JDLEVBQ3pCLENDWEEsTUFBTUksRUFBWSxHQUVsQixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSSxNQUFPQSxFQUN6QkQsRUFBVUUsTUFBTUQsRUFBSSxLQUFPRSxTQUFTLElBQUlDLE1BQU0sSUNtQmhELFFBeEJBLFNBQVlDLEVBQVNDLEVBQUtDLEdBQ3hCLEdBQUksRUFBT2YsYUFBZWMsSUFBUUQsRUFDaEMsT0FBTyxFQUFPYixhQUloQixNQUFNZ0IsR0FETkgsRUFBVUEsR0FBVyxDQUFDLEdBQ0RJLFNBQVdKLEVBQVFQLEtBQU9BLEtBSy9DLEdBSEFVLEVBQUssR0FBZSxHQUFWQSxFQUFLLEdBQVksR0FDM0JBLEVBQUssR0FBZSxHQUFWQSxFQUFLLEdBQVksSUFFdkJGLEVBQUssQ0FDUEMsRUFBU0EsR0FBVSxFQUVuQixJQUFLLElBQUlOLEVBQUksRUFBR0EsRUFBSSxLQUFNQSxFQUN4QkssRUFBSUMsRUFBU04sR0FBS08sRUFBS1AsR0FHekIsT0FBT0ssQ0FDVCxDQUVBLE9EYkssU0FBeUJJLEVBQUtILEVBQVMsR0FHNUMsT0FBT1AsRUFBVVUsRUFBSUgsRUFBUyxJQUFNUCxFQUFVVSxFQUFJSCxFQUFTLElBQU1QLEVBQVVVLEVBQUlILEVBQVMsSUFBTVAsRUFBVVUsRUFBSUgsRUFBUyxJQUFNLElBQU1QLEVBQVVVLEVBQUlILEVBQVMsSUFBTVAsRUFBVVUsRUFBSUgsRUFBUyxJQUFNLElBQU1QLEVBQVVVLEVBQUlILEVBQVMsSUFBTVAsRUFBVVUsRUFBSUgsRUFBUyxJQUFNLElBQU1QLEVBQVVVLEVBQUlILEVBQVMsSUFBTVAsRUFBVVUsRUFBSUgsRUFBUyxJQUFNLElBQU1QLEVBQVVVLEVBQUlILEVBQVMsS0FBT1AsRUFBVVUsRUFBSUgsRUFBUyxLQUFPUCxFQUFVVSxFQUFJSCxFQUFTLEtBQU9QLEVBQVVVLEVBQUlILEVBQVMsS0FBT1AsRUFBVVUsRUFBSUgsRUFBUyxLQUFPUCxFQUFVVSxFQUFJSCxFQUFTLElBQ2hmLENDU1NJLENBQWdCSCxFQUN6QixFQ3hCTyxTQUFTSSxFQUFLQyxFQUFPQyxFQUFhQyxFQUFTQyxFQUFVQyxFQUFhLEtBSXJFLElBQUlDLEdBQWdCLEVBRXBCLE1BQU1DLEVBQW1CLElBQU1ELEVBVS9CTCxFQUFRQSxFQUFNVixXQUNkVyxFQUFjQSxFQUFZWCxXQUUxQixNQUFNaUIsRUFBa0JDLElBQ3BCTCxFQUFXSyxDQUFXLEVBYzFCLE1BQU8sQ0FDSCxTQUFJUixHQUFTLE9BQU9BLENBQUssRUFDekIsZUFBSUMsR0FBZSxPQUFPQSxDQUFXLEVBQ3JDLFdBQUlDLEdBQVcsT0FBT0EsQ0FBTyxFQUM3QixZQUFJQyxHQUFZLE9BQU9BLENBQVEsRUFDL0JHLG1CQUNBRyxZQWhDZ0IsS0FFWkosRUFEc0IsR0FBdEJDLEdBSUosRUE0QkFDLGlCQUNBRyxTQW5CYSxDQUFDQyxFQUFVQyxFQUFnQkMsRUFBWUwsS0FDcERSLEVBQVFXLEVBQ1JWLEVBQWNXLEVBQ2RWLEVBQVVXLEVBQ1ZOLEVBQWVDLEVBQVksRUFnQjNCTSxVQWJjLEtBQ2RDLFFBQVFDLElBQUksZ0JBQWdCaEIsYUFBaUJDLGFBQXVCQyxpQkFBdUJDLElBQVcsRUFhdEdDLGFBRVIsQ0FFTyxTQUFTYSxFQUFPakIsRUFBT2tCLEVBQWEsS0FJdkMsSUFBSUMsRUFBUSxHQXdCWixNQUFPLENBQUNuQixRQUFPbUIsUUFBT0QsZUFBY0UsUUF0Qm5CQyxJQUNiRixFQUFNOUIsS0FBS2dDLEVBQVksRUFxQmtCQyxhQWZ4QixLQUNqQixJQUFLLElBQUlsQyxFQUFJLEVBQUdBLEVBQUkrQixFQUFNSSxPQUFRbkMsSUFDOUIyQixRQUFRQyxJQUFJLFFBQVE1QixPQUFPK0IsRUFBTS9CLEdBQUdZLFVBQVVtQixFQUFNL0IsR0FBR2MsWUFBWWlCLEVBQU0vQixHQUFHZSxXQUNoRixFQVl1RHFCLFdBVHZDQyxJQUVoQixJQUFLLElBQUlyQyxFQUFJK0IsRUFBTUksT0FBUyxFQUFHbkMsR0FBSyxJQUFLQSxFQUNqQytCLEVBQU0vQixHQUFHZ0IsYUFBZXFCLEVBQVNyQixZQUNqQ2UsRUFBTU8sT0FBT3RDLEVBQUcsRUFFeEIsRUFJUixDQUVPLFNBQVN1QyxFQUFZQyxFQUFrQixLQUMxQyxJQUFJQyxFQUFVLEdBbUJkLE1BQU8sQ0FBQ0EsVUFBU0MsVUFqQkVDLElBQ2ZGLEVBQVF4QyxLQUFLMEMsRUFBYyxFQWdCSEMsYUFYTkMsSUFDbEIsSUFBSyxJQUFJN0MsRUFBSXlDLEVBQVFOLE9BQVMsRUFBR25DLEdBQUssSUFBS0EsRUFDbkN5QyxFQUFRekMsR0FBRzhCLGVBQWlCZSxFQUFXZixjQUN2Q1csRUFBUUgsT0FBT3RDLEVBQUcsR0FJMUI4QyxhQUFhQyxXQUFXRixFQUFXZixhQUFhLEVBSVZVLG9CQUM5QyxDQzlDQSxTQUFTUSxFQUFtQkgsR0FDeEJBLEVBQVdkLE1BQU1rQixTQUFRQyxLQVQ3QixTQUFvQmIsRUFBVWMsR0FDMUIsSUFBSUMsRUE1QlIsU0FBMkJmLEdBQ3ZCLE1BQU1nQixFQUFVQyxTQUFTQyxjQUFjLE9BQ2pDQyxFQUFpQkYsU0FBU0MsY0FBYyxLQUN4Q0UsRUFBdUJILFNBQVNDLGNBQWMsS0FDOUNHLEVBQW1CSixTQUFTQyxjQUFjLEtBQzFDSSxFQUFvQkwsU0FBU0MsY0FBYyxLQWdCakQsT0FkQUYsRUFBUU8sVUFBVUMsSUFBSSxZQUN0QkwsRUFBZU0sWUFBY3pCLEVBQVN6QixNQUN0QzZDLEVBQXFCSyxZQUFjekIsRUFBU3hCLFlBQzVDNkMsRUFBaUJJLFlBQWN6QixFQUFTdkIsUUFDeEM2QyxFQUFrQkcsWUFBY3pCLEVBQVN0QixTQUV6Q3NDLEVBQVFVLFlBQVlQLEdBQ3BCSCxFQUFRVSxZQUFZTixHQUNwQkosRUFBUVUsWUFBWUwsR0FDcEJMLEVBQVFVLFlBQVlKLElBeUl4QixTQUFnQ1QsR0FDNUIsTUFBTWMsRUFBZ0JWLFNBQVNDLGNBQWMsVUFjN0MsT0FaQVMsRUFBY0osVUFBVUMsSUFBSSxtQkFDNUJHLEVBQWNGLFlBQWMsSUFFNUJaLEVBQUthLFlBQVlDLEdBRWpCQSxFQUFjQyxpQkFBaUIsU0FBUyxTQUFTQyxHQUM3QyxJQUFJQyxFQUFhRCxFQUFFRSxPQUNuQkMsRUFBaUJGLEVBQVdHLE9BQzVCSCxFQUFXSSxXQUFXQyxTQUN0QkMsR0FDSixJQUVPVCxDQUNYLENBeEpJVSxDQUF1QnJCLElBQVNpQixNQUFRakMsRUFBU3JCLFlBMEpyRCxTQUE4QmtDLEdBQzFCLE1BQU15QixFQUFjckIsU0FBU0MsY0FBYyxVQXFCM0MsT0FuQkFvQixFQUFZZixVQUFVQyxJQUFJLGlCQUMxQmMsRUFBWWIsWUFBYyxJQUUxQlosRUFBS2EsWUFBWVksR0FFakJBLEVBQVlWLGlCQUFpQixTQUFTLFNBQVNDLEdBRTNDLE1BQU1VLEVBQVd0QixTQUFTdUIsZUFBZSxhQUNuQ0MsRUFBV3hCLFNBQVNDLGNBQWMsVUFFeEN1QixFQUFTbEIsVUFBVUMsSUFBSSxlQUN2QmlCLEVBQVNSLE1BQVFKLEVBQUVFLE9BQU9FLE1BQzFCTSxFQUFTYixZQUFZZSxHQVU3QixTQUE4QjVCLEdBQzFCLE1BQU02QixFQUFPekIsU0FBU3VCLGVBQWUsYUFFL0JHLEVBQWtCRCxFQUFLRSxTQUFTLGNBQ2hDQyxFQUF3QkgsRUFBS0UsU0FBUyxvQkFDdENFLEVBQW9CSixFQUFLRSxTQUFTLGlCQUNsQ0csRUFBcUJMLEVBQUtFLFNBQVMsaUJBRXpDRCxFQUFnQlYsTUFBUXBCLEVBQUt0QyxNQUM3QnNFLEVBQXNCWixNQUFRcEIsRUFBS3JDLFlBQ25Dc0UsRUFBa0JiLE1BQVFwQixFQUFLcEMsUUFDL0JzRSxFQUFtQmQsTUFBUXBCLEVBQUtuQyxRQUNwQyxDQW5CUXNFLENBQXFCQyxFQUFlcEIsRUFBRUUsT0FBT0UsUUFDN0NpQixJQUFnQkMsV0FDcEIsSUFFT2IsQ0FDWCxDQWhMSWMsQ0FBcUJwQyxJQUFTaUIsTUFBUWpDLEVBQVNyQixZQWdNbkQsU0FBZ0NrQyxHQUM1QixNQUFNd0MsRUFBZ0JwQyxTQUFTQyxjQUFjLFVBYTdDLE9BWEFtQyxFQUFjOUIsVUFBVUMsSUFBSSxtQkFDNUI2QixFQUFjNUIsWUFBYyxJQUU1QlosRUFBS2EsWUFBWTJCLEdBRWpCQSxFQUFjekIsaUJBQWlCLFNBQVMsU0FBU0MsR0FDN0MsSUFBSUMsRUFBYUQsRUFBRUUsT0FRM0IsSUFBNkJ1QixFQVByQkMsRUFBaUJ6QixFQUFXRyxRQU9QcUIsRUFORHhCLEdBT1hJLFdBQVdYLFVBQVVpQyxTQUFTLGlCQUd2Q0YsRUFBUXBCLFdBQVdYLFVBQVVZLE9BQU8saUJBRnBDbUIsRUFBUXBCLFdBQVdYLFVBQVVDLElBQUksZ0JBUHJDLElBRU82QixDQUNYLENBOU1JSSxDQUF1QnpDLElBQVNpQixNQUFRakMsRUFBU3JCLFdBRTFDcUMsQ0FDWCxDQU1rQjBDLENBQWtCMUQsR0FFWmlCLFNBQVN1QixlQU9SLENBQUMsbUJBTlZkLFlBQVlYLEVBQzVCLENBS1E0QyxDQUFXOUMsRUFBeUIsR0FFNUMsQ0F1RUEsU0FBUytDLEVBQWFwRCxHQUNsQixJQUFJcUQsRUFwQ1IsU0FBNEJyRCxHQUN4QixNQUFNc0QsRUFBVTdDLFNBQVM4QyxjQUFjLFlBQ2pDQyxFQUFZL0MsU0FBU0MsY0FBYyxPQUNuQytDLEVBQVloRCxTQUFTQyxjQUFjLFVBYXpDLEdBWEE4QyxFQUFVekMsVUFBVUMsSUFBSSxjQUN4QnlDLEVBQVUxQyxVQUFVQyxJQUFJLGlCQUN4QnlDLEVBQVV4QyxZQUFjakIsRUFBV2pDLE1BQ25DMEYsRUFBVWhDLE1BQVF6QixFQUFXZixhQUU3QnVFLEVBQVV0QyxZQUFZdUMsSUE4QzFCLFNBQWtDQyxHQUM5QixNQUFNQyxFQUFrQmxELFNBQVNDLGNBQWMsVUFrQi9DLE9BaEJBaUQsRUFBZ0I1QyxVQUFVQyxJQUFJLHFCQUM5QjJDLEVBQWdCMUMsWUFBYyxJQUc5QnlDLEVBQU94QyxZQUFZeUMsR0FHbkJBLEVBQWdCdkMsaUJBQWlCLFNBQVMsU0FBU0MsR0FDL0MsSUFBSUMsRUFBYUQsRUFBRUUsT0FDbkJxQyxFQUFtQnRDLEVBQVdHLE9BRzlCSCxFQUFXSSxXQUFXQyxTQUN0QkMsR0FDSixJQUVPK0IsQ0FDWCxDQS9ESUUsQ0FBeUJMLElBQVcvQixNQUFRekIsRUFBV2YsYUFHdkIsZ0JBQTVCZSxFQUFXZixhQUFnQyxDQUMzQyxJQUFJNkUsRUFBV04sRUFBVU8sV0FBVyxHQUNwQ0QsRUFBU3BDLFdBQVdzQyxZQUFZRixFQUNwQyxDQVdBLE9BVEFSLEVBQVFwQyxZQUFZc0MsR0FFcEJDLEVBQVVyQyxpQkFBaUIsU0FBUyxXQUNoQyxJQUFJNkMsRUFBa0JqRSxFQUFXZixhQUdqQyxPQUZBaUYsRUFBMkJsRSxFQUFXZixjQUN0Q0gsUUFBUUMsSUFBSWlCLEVBQVdqQyxNQUFPaUMsRUFBV2YsY0FDbENnRixDQUNYLElBRU9ULENBQ1gsQ0FLb0JXLENBQW1CbkUsR0FFbkMsTUFBTW9FLEVBQWlCM0QsU0FBUzhDLGNBQWMsWUFDeENjLEVBQVc1RCxTQUFTOEMsY0FBYyxjQUVULGdCQUE1QnZELEVBQVdmLGFBQ1ZvRixFQUFTbkQsWUFBWW1DLEdBRXJCZSxFQUFlbEQsWUFBWW1DLEVBRW5DLENDeEhBLElBQUlpQixFQUFjNUUsRUFBWSxVQVc5QixTQUFTNkUsSUFHTCxPQUZtQjlELFNBQVN1QixlQUFlLGNBRy9DLENBRUEsU0FBU1UsSUFHTCxPQUZtQmpDLFNBQVN1QixlQUFlLGNBRy9DLENBeUpBLFNBQVN3QyxFQUE4QkMsR0FDbkMsTUFBTSxrQkFBQzlFLEdBQXFCOEUsRUFTNUIsT0FQQUgsRUFBYzVFLEVBQVlDLEdBRTFCOEUsRUFBVzdFLFFBQVFRLFNBQVFzRCxJQUN2QlksRUFBWXpFLFVBcEJwQixTQUFrQzRFLEdBRTlCLE1BQU0sTUFBQzFHLEVBQUssYUFBR2tCLEdBQWdCd0YsRUFFL0IsSUFBSUMsRUFBYTFGLEVBQU9qQixFQUFPa0IsR0FNL0IsT0FKQXdGLEVBQVd2RixNQUFNa0IsU0FBUUMsSUFDckJxRSxFQUFXdkYsUUFoQm5CLFNBQXlCd0YsR0FDckIsTUFBTSxNQUFDNUcsRUFBSyxZQUFFQyxFQUFXLFFBQUVDLEVBQU8sU0FBRUMsRUFBUSxXQUFFQyxHQUFjd0csRUFFNUQsT0FBTzdHLEVBQUtDLEVBQU9DLEVBQWFDLEVBQVNDLEVBQVVDLEVBQ3ZELENBWTJCeUcsQ0FBZ0J2RSxHQUFNLElBR3RDcUUsQ0FFWCxDQVE4QkcsQ0FBeUJuQixHQUFPLElBRzFENUUsUUFBUUMsSUFBSSxzQ0FBdUN1RixHQUM1Q0EsQ0FDWCxDQUdBLFNBQVMxQyxJQUNMM0IsYUFBYTZFLFFBQVEsVUFBV0MsS0FBS0MsVUFBVVYsR0FDbkQsQ0FJQSxTQUFTSixFQUEyQmUsR0FFaENYLEVBQVkxRSxRQUFRUSxTQUFRc0QsSUFDcEJ1QixJQUFXdkIsRUFBT3pFLGVEZ0RKd0IsU0FBU3VCLGVBQWUsa0JBRWhDZixZQUFjLEdDL0NwQmQsRUFBbUJ1RCxHQUNuQjVFLFFBQVFDLElBQUksZUFDaEIsR0FFUixDQUVBLFNBQVM2RSxFQUFtQnNCLEdBQ3hCWixFQUFZMUUsUUFBUVEsU0FBUXNELElBQ3BCd0IsSUFBYXhCLEVBQU96RSxlQUNwQkgsUUFBUUMsSUFBSW1HLEdBQ1paLEVBQVl2RSxhQUFhMkQsR0FDN0IsR0FFUixDQUVBLFNBQVNsQyxFQUFpQjBELEdBQ3RCWixFQUFZMUUsUUFBUVEsU0FBUXNELElBQ3hCQSxFQUFPeEUsTUFBTWtCLFNBQVFDLElBQ2I2RSxJQUFhN0UsRUFBS2xDLFlBQ2xCdUYsRUFBT25FLFdBQVdjLEVBQ3RCLEdBQ0gsR0FFVCxDQUVBLFNBQVMwQyxFQUFpQm9DLEdBQ3RCYixFQUFZMUUsUUFBUVEsU0FBUXNELElBQ3hCQSxFQUFPeEUsTUFBTWtCLFNBQVFDLElBQ2I4RSxJQUFXOUUsRUFBS2xDLFlBQ2hCa0MsRUFBSzdCLGFBQ1QsR0FDSCxHQUVULENBRUEsU0FBU2lFLEVBQWV5QyxHQUNwQixJQUFJRSxFQVFKLE9BUEFkLEVBQVkxRSxRQUFRUSxTQUFRc0QsSUFDeEJBLEVBQU94RSxNQUFNa0IsU0FBUUMsSUFDYjZFLElBQWE3RSxFQUFLbEMsYUFDbEJpSCxFQUFTL0UsRUFDYixHQUNILElBRUUrRSxDQUNYLENBbFB5QjNFLFNBQVN1QixlQUFlLHVCQUNoQ1osaUJBQWlCLFNBQVMsV0FDdkNtRCxJQUFnQmMsTUFDaEJkLElBQWdCNUIsWURvUHBCLFNBQXdCMkIsR0FFcEIsTUFBTWdCLEVBQVM3RSxTQUFTdUIsZUFBZSxxQkFlM0MsU0FBeUJ1RCxHQUNyQixJQUFLLElBQUlwSSxFQUFJb0ksRUFBYWhJLFFBQVErQixPQUFRbkMsR0FBSyxFQUFHQSxJQUM5Q29JLEVBQWE1RCxPQUFPLEVBRTVCLENBakJJNkQsQ0FBZ0JGLEdBRWhCaEIsRUFBWTFFLFFBQVFRLFNBQVFzRCxJQUN4QixNQUFNK0IsRUFBU2hGLFNBQVNDLGNBQWMsVUFFdEMrRSxFQUFPeEUsWUFBY3lDLEVBQU8zRixNQUM1QjBILEVBQU9oRSxNQUFRaUMsRUFBT3pFLGFBR3RCcUcsRUFBT3BFLFlBQVl1RSxFQUFPLEdBRWxDLENDbFFJQyxDQUFlWCxLQUFLWSxNQUFNMUYsYUFBYTJGLFFBQVEsWUFDbkQsSUFnQnFCbkYsU0FBU3VCLGVBQWUsa0JBQ2hDWixpQkFBaUIsU0FBUyxXQUNoQlgsU0FBU3VCLGVBQWUsZUFDaENxRCxRQUVVNUUsU0FBU3VCLGVBQWUsaUJBQ2hDVyxXQUVqQixJQU93QmxDLFNBQVN1QixlQUFlLHNCQUNoQ1osaUJBQWlCLFNBQVMsU0FBU0MsR0FDL0NBLEVBQUV3RSxpQkFFRixNQUFNQyxFQUFlckYsU0FBU3VCLGVBQWUsa0JBQ3ZDLGtCQUFDK0QsR0RnTVgsV0FDSSxNQUFNQyxFQUFhdkYsU0FBU3VCLGVBQWUsZUFJM0MsTUFBTyxDQUFDZ0UsYUFBWUQsa0JBRk1DLEVBQVc1RCxTQUFTLGdCQUFnQlgsTUFHbEUsQ0N0TWdDd0UsR0FFNUIsSUFBSUMsRUFBWWxILEVBQU8rRyxHQUN2QjNDLEVBQWE4QyxHQUViNUIsRUFBWXpFLFVBQVVxRyxHQUN0QmpHLGFBQWE2RSxRQUFRLFVBQVdDLEtBQUtDLFVBQVVWLElBSS9DRSxFQUZ3Qk8sS0FBS1ksTUFBTTFGLGFBQWEyRixRQUFRLGFBSXhERSxFQUFhSyxPQUVqQixJQUVtQjFGLFNBQVN1QixlQUFlLGdCQUVoQ1osaUJBQWlCLFNBQVMsU0FBU0MsR0FDMUNBLEVBQUV3RSxpQkFFRixNQUNNTyxFQURpQjNGLFNBQVN1QixlQUFlLG9CQUNKUCxPQUVyQyxVQUFDNEUsRUFBUyxnQkFBRUMsRUFBZSxZQUFFQyxFQUFXLGFBQUVDLEdENUJwRCxXQUNJLE1BQU10RSxFQUFPekIsU0FBU3VCLGVBQWUsYUFFL0JHLEVBQWtCRCxFQUFLRSxTQUFTLGNBQ2hDQyxFQUF3QkgsRUFBS0UsU0FBUyxvQkFDdENFLEVBQW9CSixFQUFLRSxTQUFTLGlCQUNsQ0csRUFBcUJMLEVBQUtFLFNBQVMsaUJBT3pDLE1BQU8sQ0FBQ2lFLFVBTFFsRSxFQUFnQlYsTUFLYjZFLGdCQUpHakUsRUFBc0JaLE1BSVI4RSxZQUhsQmpFLEVBQWtCYixNQUdhK0UsYUFGOUJqRSxFQUFtQmQsTUFHMUMsQ0Njb0VnRixHQUcxREMsRUFBVTVJLEVBQUt1SSxFQUFXQyxFQUFpQkMsRUFBYUMsR0FDOURsQyxFQUFZMUUsUUFBUVEsU0FBUXNELElBQ3BCMEMsSUFBd0IxQyxFQUFPekUsY0FDL0J5RSxFQUFPdkUsUUFBUXVILEVBQ25CLElBR0p6RyxhQUFhNkUsUUFBUSxVQUFXQyxLQUFLQyxVQUFVVixJQUkvQ0UsRUFGd0JPLEtBQUtZLE1BQU0xRixhQUFhMkYsUUFBUSxhQUt4RDFCLEVBQTJCa0MsR0FHVjNGLFNBQVN1QixlQUFlLGFBQ2hDcUQsUUFDVGQsSUFBZ0I0QixPQUNwQixJQUsyQjFGLFNBQVN1QixlQUFlLGlCQUNoQ1osaUJBQWlCLFNBQVMsU0FBU0MsR0FDbERBLEVBQUV3RSxpQkFFRixNQUFNYyxFQUFRbEcsU0FBUzhDLGNBQWMsaUJBRS9CLFVBQUM4QyxFQUFTLGdCQUFFQyxFQUFlLFlBQUVDLEVBQVcsYUFBRUMsR0Q5Q3BELFdBQ0ksTUFBTXRFLEVBQU96QixTQUFTdUIsZUFBZSxhQUUvQkcsRUFBa0JELEVBQUtFLFNBQVMsY0FDaENDLEVBQXdCSCxFQUFLRSxTQUFTLG9CQUN0Q0UsRUFBb0JKLEVBQUtFLFNBQVMsaUJBQ2xDRyxFQUFxQkwsRUFBS0UsU0FBUyxpQkFPekMsTUFBTyxDQUFDaUUsVUFMUWxFLEVBQWdCVixNQUtiNkUsZ0JBSkdqRSxFQUFzQlosTUFJUjhFLFlBSGxCakUsRUFBa0JiLE1BR2ErRSxhQUY5QmpFLEVBQW1CZCxNQUcxQyxDQ2dDb0VtRixHQUVoRXRDLEVBQVkxRSxRQUFRUSxTQUFRc0QsSUFDeEJBLEVBQU94RSxNQUFNa0IsU0FBUUMsSUFDYnNHLEVBQU1sRixRQUFVcEIsRUFBS2xDLGFBQ3JCa0MsRUFBSzVCLFNBQVM0SCxFQUFXQyxFQUFpQkMsRUFBYUMsR0FDdkR0QyxFQUEyQlIsRUFBT3pFLGNBQ2xDSCxRQUFRQyxJQUFJc0IsR0FDaEIsR0FDSCxJQUdMdUIsSUFDQStFLEVBQU1oRixTQUNOZSxJQUFnQnlELE9BRXBCLElBR0EsV0FDSSxHQUFJbEcsYUFBYTJGLFFBQVEsV0FBVyxDQUNoQyxJQUFJaUIsRUFBb0I5QixLQUFLWSxNQUFNMUYsYUFBYTJGLFFBQVEsWUFDeERwQixFQUE4QnFDLEdBRWZ2QyxFRERIMUUsUUFBUVEsU0FBUXNELElBQzVCTixFQUFhTSxFQUFPLElDQ3BCNUUsUUFBUUMsSUFBSSw2Q0FBOEM4SCxFQUM5RCxLQUFPLENBQ0gsTUFBTUMsRUFBUWhKLEVBQUssU0FBVSxjQUFlLFNBQVUsUUFDaERpSixFQUFRakosRUFBSyxTQUFVLFNBQVUsU0FBVSxPQUMzQ2tKLEVBQVFsSixFQUFLLFNBQVUsWUFBYSxTQUFVLE9BRXBELElBQUltSixFQUFjakksRUFBTyxRQUFTLGVBQ2xDaUksRUFBWTlILFFBQVEySCxHQUNwQnhDLEVBQVl6RSxVQUFVb0gsR0FDdEI3RCxFQUFhNkQsR0FFYixJQUFJQyxFQUFjbEksRUFBTyxTQUN6QmtJLEVBQVkvSCxRQUFRNEgsR0FDcEJHLEVBQVkvSCxRQUFRMkgsR0FDcEJJLEVBQVkvSCxRQUFRNkgsR0FDcEJFLEVBQVkzSCxXQUFXd0gsR0FDdkJ6QyxFQUFZekUsVUFBVXFILEdBQ3RCOUQsRUFBYThELEdBQ2JwSSxRQUFRQyxJQUFJLHFCQUNoQixDQUNKLENBQ0FvSSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uYXRpdmUuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvZG9tLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IHJhbmRvbVVVSUQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8ucmFuZG9tVVVJRCAmJiBjcnlwdG8ucmFuZG9tVVVJRC5iaW5kKGNyeXB0byk7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSURcbn07IiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG5sZXQgZ2V0UmFuZG9tVmFsdWVzO1xuY29uc3Qgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxuY29uc3QgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHJldHVybiBieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICBjb25zdCB1dWlkID0gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0KTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCJpbXBvcnQgbmF0aXZlIGZyb20gJy4vbmF0aXZlLmpzJztcbmltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQge3Y0IGFzIHV1aWR2NH0gZnJvbSAndXVpZCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBUYXNrKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIG15VGFza1V1aWQgPSB1dWlkdjQoKSkge1xuXG4gICAgLy8gbGV0IG15VGFza1V1aWQgPSB1dWlkdjQoKTtcblxuICAgIGxldCBjb21wbGV0ZVN0YXRlID0gZmFsc2U7XG5cbiAgICBjb25zdCBnZXRDb21wbGV0ZVN0YXRlID0gKCkgPT4gY29tcGxldGVTdGF0ZTtcblxuICAgIGNvbnN0IHNldENvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAoZ2V0Q29tcGxldGVTdGF0ZSgpID09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb21wbGV0ZVN0YXRlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBsZXRlU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgdGl0bGUgPSB0aXRsZS50b1N0cmluZygpO1xuICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24udG9TdHJpbmcoKTtcblxuICAgIGNvbnN0IGNoYW5nZVByaW9yaXR5ID0gKG5ld1ByaW9yaXR5KSA9PiB7XG4gICAgICAgIHByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gICAgfVxuXG4gICAgY29uc3QgZWRpdFRhc2sgPSAobmV3VGl0bGUsIG5ld0Rlc2NyaXB0aW9uLCBuZXdEdWVEYXRlLCBuZXdQcmlvcml0eSkgPT4ge1xuICAgICAgICB0aXRsZSA9IG5ld1RpdGxlO1xuICAgICAgICBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgICAgICBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICAgICAgY2hhbmdlUHJpb3JpdHkobmV3UHJpb3JpdHkpO1xuICAgIH1cblxuICAgIGNvbnN0IHByaW50VGFzayA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFRhc2sgdGl0bGUgLSAke3RpdGxlfSwgRGVzYyAtICR7ZGVzY3JpcHRpb259LCBEYXRlIC0gJHtkdWVEYXRlfSwgUHJpb3JpdHkgLSAke3ByaW9yaXR5fWApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldCB0aXRsZSgpIHtyZXR1cm4gdGl0bGV9LCBcbiAgICAgICAgZ2V0IGRlc2NyaXB0aW9uKCkge3JldHVybiBkZXNjcmlwdGlvbn0sIFxuICAgICAgICBnZXQgZHVlRGF0ZSgpIHtyZXR1cm4gZHVlRGF0ZX0sIFxuICAgICAgICBnZXQgcHJpb3JpdHkoKSB7cmV0dXJuIHByaW9yaXR5fSxcbiAgICAgICAgZ2V0Q29tcGxldGVTdGF0ZSxcbiAgICAgICAgc2V0Q29tcGxldGUsIFxuICAgICAgICBjaGFuZ2VQcmlvcml0eSxcbiAgICAgICAgZWRpdFRhc2ssXG4gICAgICAgIHByaW50VGFzayxcbiAgICAgICAgbXlUYXNrVXVpZFxuICAgIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gRm9sZGVyKHRpdGxlLCBteUZvbGRlclV1aWQ9dXVpZHY0KCkpIHtcbiAgICBcblxuICAgIC8vIGxldCBteUZvbGRlclV1aWQgPSB1dWlkdjQoKTtcbiAgICBsZXQgdGFza3MgPSBbXTtcblxuICAgIGNvbnN0IGFkZFRhc2sgPSAobmV3VGFza05hbWUpID0+IHtcbiAgICAgICAgdGFza3MucHVzaChuZXdUYXNrTmFtZSk7XG5cblxuICAgICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuZXdUYXNrTmFtZS5teVRhc2tVdWlkLCBKU09OLnN0cmluZ2lmeShuZXdUYXNrTmFtZSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpc3BsYXlUYXNrcyA9ICgpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFRhc2sgJHtpfSAtICR7dGFza3NbaV0udGl0bGV9LCAke3Rhc2tzW2ldLmR1ZURhdGV9LCAke3Rhc2tzW2ldLnByaW9yaXR5fWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlVGFzayA9ICh0YXNrTmFtZSkgPT4ge1xuICAgICAgICAvLyB0YXNrcy5zcGxpY2UodGFza05hbWUsIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gdGFza3MubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGlmICh0YXNrc1tpXS5teVRhc2tVdWlkID09PSB0YXNrTmFtZS5teVRhc2tVdWlkKSB7XG4gICAgICAgICAgICAgICAgdGFza3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7dGl0bGUsIHRhc2tzLCBteUZvbGRlclV1aWQsIGFkZFRhc2ssIGRpc3BsYXlUYXNrcywgZGVsZXRlVGFza307XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTdXBlckZvbGRlcihteVN1cGVyRm9sZGVyVXVpZD11dWlkdjQoKSkge1xuICAgIGxldCBmb2xkZXJzID0gW11cblxuICAgIGNvbnN0IGFkZEZvbGRlciA9IChuZXdGb2xkZXJOYW1lKSA9PiB7XG4gICAgICAgIGZvbGRlcnMucHVzaChuZXdGb2xkZXJOYW1lKTtcblxuICAgICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShuZXdGb2xkZXJOYW1lLm15Rm9sZGVyVXVpZCwgSlNPTi5zdHJpbmdpZnkobmV3Rm9sZGVyTmFtZSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZUZvbGRlciA9IChmb2xkZXJOYW1lKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSBmb2xkZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBpZiAoZm9sZGVyc1tpXS5teUZvbGRlclV1aWQgPT09IGZvbGRlck5hbWUubXlGb2xkZXJVdWlkKSB7XG4gICAgICAgICAgICAgICAgZm9sZGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShmb2xkZXJOYW1lLm15Rm9sZGVyVXVpZCk7XG5cbiAgICB9XG5cbiAgICByZXR1cm4ge2ZvbGRlcnMsIGFkZEZvbGRlciwgZGVsZXRlRm9sZGVyLCBteVN1cGVyRm9sZGVyVXVpZH1cbn0iLCJpbXBvcnQge1xuICAgIGRpc3BsYXlDdXJyZW50Rm9sZGVyV2l0aElkLFxuICAgIGRlbGV0ZUZvbGRlcldpdGhJZCxcbiAgICBkZWxldGVUYXNrV2l0aElkLFxuICAgIGNoYW5nZVRhc2tTdGF0dXMsXG4gICAgZmluZFRhc2tXaXRoSWQsXG4gICAgZ2V0RWRpdERpYWxvZyxcbiAgICBzdXBlckZvbGRlcixcbiAgICBzZXRMb2NhbFN0b3JhZ2VcblxufSBmcm9tICcuLi9pbmRleC5qcyc7XG5cbi8vIGltcG9ydCB7XG4vLyAgICAgVGFzayxcbi8vICAgICBGb2xkZXIsXG4vLyAgICAgU3VwZXJGb2xkZXJcbi8vIH0gZnJvbSAnLi9tb2R1bGVzL2ZhY3Rvcmllcy5qcyc7XG5cblxuLy8gQ3JlYXRlIGFsbCBlbGVtZW50cyBmb3IgZWFjaCB0YXNrIHByb3BlcnR5IGFuZCBjaGFuZ2UgdGV4dCBjb250ZW50IHRvIGNvcnJlc3BvbmRpbmcgdmFsdWVcbi8vIFRoZW4gYWRkIHRoZW0gdG8gYSBtYWluIGRpdiBhbmQgcmV0dXJuXG5mdW5jdGlvbiBjcmVhdGVUYXNrRWxlbWVudCh0YXNrTmFtZSkge1xuICAgIGNvbnN0IHRhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCB0YXNrVGl0bGVJbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0YXNrRGVzY3JpcHRpb25JbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0YXNrRHVlRGF0ZUluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRhc2tQcmlvcml0eUluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIFxuICAgIHRhc2tEaXYuY2xhc3NMaXN0LmFkZCgndGFzay1kaXYnKTtcbiAgICB0YXNrVGl0bGVJbkRpdi50ZXh0Q29udGVudCA9IHRhc2tOYW1lLnRpdGxlO1xuICAgIHRhc2tEZXNjcmlwdGlvbkluRGl2LnRleHRDb250ZW50ID0gdGFza05hbWUuZGVzY3JpcHRpb247XG4gICAgdGFza0R1ZURhdGVJbkRpdi50ZXh0Q29udGVudCA9IHRhc2tOYW1lLmR1ZURhdGU7XG4gICAgdGFza1ByaW9yaXR5SW5EaXYudGV4dENvbnRlbnQgPSB0YXNrTmFtZS5wcmlvcml0eTtcblxuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza1RpdGxlSW5EaXYpO1xuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uSW5EaXYpO1xuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0R1ZURhdGVJbkRpdik7XG4gICAgdGFza0Rpdi5hcHBlbmRDaGlsZCh0YXNrUHJpb3JpdHlJbkRpdik7XG4gICAgY3JlYXRlVGFza0RlbGV0ZUJ1dHRvbih0YXNrRGl2KS52YWx1ZSA9IHRhc2tOYW1lLm15VGFza1V1aWQ7XG4gICAgY3JlYXRlVGFza0VkaXRCdXR0b24odGFza0RpdikudmFsdWUgPSB0YXNrTmFtZS5teVRhc2tVdWlkO1xuICAgIGNyZWF0ZVRhc2tTdGF0dXNCdXR0b24odGFza0RpdikudmFsdWUgPSB0YXNrTmFtZS5teVRhc2tVdWlkO1xuXG4gICAgcmV0dXJuIHRhc2tEaXY7XG59XG5cbi8vIFRha2UgaW4gdGFzayBhbmQgd2hlcmUgdG8gYXBwZW5kXG4vLyBDcmVhdGUgdGhlIHRhc2sgdXNpbmcgY3JlYXRlVGFza0VsZW1lbnQgYW5kIGFzc2lnbiB0byB2YXJpYWJsZVxuLy8gVGFyZ2V0IGVsZW1lbnQgdG8gYXBwZW5kIHRvIGFuZCBhcHBlbmRcbmZ1bmN0aW9uIGFwcGVuZFRhc2sodGFza05hbWUsIGxvY2F0aW9uKSB7XG4gICAgbGV0IHRhc2tET00gPSBjcmVhdGVUYXNrRWxlbWVudCh0YXNrTmFtZSk7XG5cbiAgICBjb25zdCBsb2NhdGlvbkRPTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxvY2F0aW9uKTtcbiAgICBsb2NhdGlvbkRPTS5hcHBlbmRDaGlsZCh0YXNrRE9NKTtcbn1cblxuLy8gVGFrZSBpbiBmb2xkZXIgbmFtZSB0aGVuIGxvb3AgdGhyb3VnaCB0YXNrcyBpbnNpZGUgZm9sZGVyIHRvIGFwcGVuZCB0byBzY3JlZW5cbmZ1bmN0aW9uIGRpc3BsYXlGb2xkZXJUYXNrcyhmb2xkZXJOYW1lKSB7XG4gICAgZm9sZGVyTmFtZS50YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBhcHBlbmRUYXNrKHRhc2ssIFsndGFzay1jb250YWluZXInXSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFRhc2tGb3JtSW5mbygpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tZm9ybScpO1xuXG4gICAgY29uc3QgdGFza1RpdGxlSW5Gb3JtID0gZm9ybS5lbGVtZW50c1sndGFzay10aXRsZSddO1xuICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbkluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stZGVzY3JpcHRpb24nXTtcbiAgICBjb25zdCB0YXNrRHVlRGF0ZUluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stZHVlLWRhdGUnXTtcbiAgICBjb25zdCB0YXNrUHJpb3JpdHlJbkZvcm0gPSBmb3JtLmVsZW1lbnRzWyd0YXNrLXByaW9yaXR5J107XG4gICAgXG4gICAgbGV0IHRhc2tUaXRsZSA9IHRhc2tUaXRsZUluRm9ybS52YWx1ZTtcbiAgICBsZXQgdGFza0Rlc2NyaXB0aW9uID0gdGFza0Rlc2NyaXB0aW9uSW5Gb3JtLnZhbHVlO1xuICAgIGxldCB0YXNrRHVlRGF0ZSA9IHRhc2tEdWVEYXRlSW5Gb3JtLnZhbHVlO1xuICAgIGxldCB0YXNrUHJpb3JpdHkgPSB0YXNrUHJpb3JpdHlJbkZvcm0udmFsdWU7XG5cbiAgICByZXR1cm4ge3Rhc2tUaXRsZSwgdGFza0Rlc2NyaXB0aW9uLCB0YXNrRHVlRGF0ZSwgdGFza1ByaW9yaXR5fTtcbn0gXG5cbmZ1bmN0aW9uIGdldFRhc2tFZGl0Rm9ybUluZm8oKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWZvcm0nKTtcblxuICAgIGNvbnN0IHRhc2tUaXRsZUluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stdGl0bGUnXTtcbiAgICBjb25zdCB0YXNrRGVzY3JpcHRpb25JbkZvcm0gPSBmb3JtLmVsZW1lbnRzWyd0YXNrLWRlc2NyaXB0aW9uJ107XG4gICAgY29uc3QgdGFza0R1ZURhdGVJbkZvcm0gPSBmb3JtLmVsZW1lbnRzWyd0YXNrLWR1ZS1kYXRlJ107XG4gICAgY29uc3QgdGFza1ByaW9yaXR5SW5Gb3JtID0gZm9ybS5lbGVtZW50c1sndGFzay1wcmlvcml0eSddO1xuICAgIFxuICAgIGxldCB0YXNrVGl0bGUgPSB0YXNrVGl0bGVJbkZvcm0udmFsdWU7XG4gICAgbGV0IHRhc2tEZXNjcmlwdGlvbiA9IHRhc2tEZXNjcmlwdGlvbkluRm9ybS52YWx1ZTtcbiAgICBsZXQgdGFza0R1ZURhdGUgPSB0YXNrRHVlRGF0ZUluRm9ybS52YWx1ZTtcbiAgICBsZXQgdGFza1ByaW9yaXR5ID0gdGFza1ByaW9yaXR5SW5Gb3JtLnZhbHVlO1xuXG4gICAgcmV0dXJuIHt0YXNrVGl0bGUsIHRhc2tEZXNjcmlwdGlvbiwgdGFza0R1ZURhdGUsIHRhc2tQcmlvcml0eX07XG59IFxuXG4vLyBDcmVhdGUgYnV0dG9uIHRvIGhvbGQgZm9sZGVyIGFuZCB0aXRsZVxuLy8gQWRkIHRpdGxlIHRvIGRpdiBhbmQgcmV0dXJuXG5mdW5jdGlvbiBjcmVhdGVGb2xkZXJCdXR0b24oZm9sZGVyTmFtZSkge1xuICAgIGNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhcicpO1xuICAgIGNvbnN0IGZvbGRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGZvbGRlckJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgZm9sZGVyRGl2LmNsYXNzTGlzdC5hZGQoJ2ZvbGRlci1kaXYnKTtcbiAgICBmb2xkZXJCdG4uY2xhc3NMaXN0LmFkZCgnZm9sZGVyLWJ1dHRvbicpO1xuICAgIGZvbGRlckJ0bi50ZXh0Q29udGVudCA9IGZvbGRlck5hbWUudGl0bGU7XG4gICAgZm9sZGVyQnRuLnZhbHVlID0gZm9sZGVyTmFtZS5teUZvbGRlclV1aWQ7XG4gICAgXG4gICAgZm9sZGVyRGl2LmFwcGVuZENoaWxkKGZvbGRlckJ0bik7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHRoZSBkZWwgYnRuIGFuZCAgYXNzaWduIHNhbWUgaWQgYXMgZm9sZGVyIHRvIGl0XG4gICAgY3JlYXRlRm9sZGVyRGVsZXRlQnV0dG9uKGZvbGRlckRpdikudmFsdWUgPSBmb2xkZXJOYW1lLm15Rm9sZGVyVXVpZDtcblxuICAgIC8vIFJlbW92ZSBkZWxldGUgYnV0dG9uIG9mIGluYm94IGZvbGRlclxuICAgIGlmIChmb2xkZXJOYW1lLm15Rm9sZGVyVXVpZCA9PT0gJ2luYm94Rm9sZGVyJykge1xuICAgICAgICBsZXQgY2hpbGRCdG4gPSBmb2xkZXJEaXYuY2hpbGROb2Rlc1sxXTtcbiAgICAgICAgY2hpbGRCdG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjaGlsZEJ0bik7XG4gICAgfVxuICAgIFxuICAgIHNpZGViYXIuYXBwZW5kQ2hpbGQoZm9sZGVyRGl2KTtcbiAgICBcbiAgICBmb2xkZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRGb2xkZXJJZCA9IGZvbGRlck5hbWUubXlGb2xkZXJVdWlkO1xuICAgICAgICBkaXNwbGF5Q3VycmVudEZvbGRlcldpdGhJZChmb2xkZXJOYW1lLm15Rm9sZGVyVXVpZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGZvbGRlck5hbWUudGl0bGUsIGZvbGRlck5hbWUubXlGb2xkZXJVdWlkKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRGb2xkZXJJZDtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gZm9sZGVyRGl2O1xufVxuXG4vLyBUYWtlIGluIGZvbGRlciBuYW1lIGFuZCBjcmVhdGUgZm9sZGVyIHVzaW5nIGZ1bmN0aW9uXG4vLyBBcHBlbmQgdG8gc2lkZWJhclxuZnVuY3Rpb24gYXBwZW5kRm9sZGVyKGZvbGRlck5hbWUpIHtcbiAgICBsZXQgZm9sZGVyRE9NID0gY3JlYXRlRm9sZGVyQnV0dG9uKGZvbGRlck5hbWUpO1xuICAgIFxuICAgIGNvbnN0IHNpZGViYXJGb2xkZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXInKTtcbiAgICBjb25zdCBpbmJveERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbmJveC1kaXYnKTtcblxuICAgIGlmKGZvbGRlck5hbWUubXlGb2xkZXJVdWlkID09PSAnaW5ib3hGb2xkZXInKSB7XG4gICAgICAgIGluYm94RGl2LmFwcGVuZENoaWxkKGZvbGRlckRPTSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2lkZWJhckZvbGRlcnMuYXBwZW5kQ2hpbGQoZm9sZGVyRE9NKTtcbiAgICB9XG59XG5cbi8vIFRha2UgaW4gc3VwZXIgZm9sZGVyIG5hbWUgdG8gbG9vcCB0aHJvdWdoIGVhY2ggZm9sZGVyIGFuZCBhcHBlbmQgdG8gc2lkZWJhclxuZnVuY3Rpb24gZGlzcGxheUZvbGRlcnMoc3VwZXJGb2xkZXJOYW1lKSB7XG4gICAgLy8gY2xlYXJTaWRlYmFyKCk7XG4gICAgc3VwZXJGb2xkZXJOYW1lLmZvbGRlcnMuZm9yRWFjaChmb2xkZXIgPT4ge1xuICAgICAgICBhcHBlbmRGb2xkZXIoZm9sZGVyKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRm9sZGVyRGVsZXRlQnV0dG9uKGZvbGRlcikge1xuICAgIGNvbnN0IGZvbGRlckRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgZm9sZGVyRGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2ZvbGRlci1kZWxldGUtYnRuJyk7XG4gICAgZm9sZGVyRGVsZXRlQnRuLnRleHRDb250ZW50ID0gJy0nO1xuXG4gICAgXG4gICAgZm9sZGVyLmFwcGVuZENoaWxkKGZvbGRlckRlbGV0ZUJ0bik7XG4gICAgXG5cbiAgICBmb2xkZXJEZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxldCB0aGlzQnV0dG9uID0gZS50YXJnZXQ7XG4gICAgICAgIGRlbGV0ZUZvbGRlcldpdGhJZCh0aGlzQnV0dG9uLnZhbHVlKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coc3VwZXJGb2xkZXIpO1xuICAgICAgICAvLyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZm9sZGVyJywgSlNPTi5zdHJpbmdpZnkoc3VwZXJGb2xkZXIpKTtcbiAgICAgICAgdGhpc0J1dHRvbi5wYXJlbnROb2RlLnJlbW92ZSgpO1xuICAgICAgICBzZXRMb2NhbFN0b3JhZ2UoKTtcbiAgICB9KVxuXG4gICAgcmV0dXJuIGZvbGRlckRlbGV0ZUJ0bjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGFza0RlbGV0ZUJ1dHRvbih0YXNrKSB7XG4gICAgY29uc3QgdGFza0RlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgdGFza0RlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCd0YXNrLWRlbGV0ZS1idG4nKTtcbiAgICB0YXNrRGVsZXRlQnRuLnRleHRDb250ZW50ID0gJy0nO1xuXG4gICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrRGVsZXRlQnRuKTtcblxuICAgIHRhc2tEZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxldCB0aGlzQnV0dG9uID0gZS50YXJnZXQ7XG4gICAgICAgIGRlbGV0ZVRhc2tXaXRoSWQodGhpc0J1dHRvbi52YWx1ZSk7XG4gICAgICAgIHRoaXNCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmUoKTtcbiAgICAgICAgc2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgfSlcblxuICAgIHJldHVybiB0YXNrRGVsZXRlQnRuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrRWRpdEJ1dHRvbih0YXNrKSB7XG4gICAgY29uc3QgdGFza0VkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIHRhc2tFZGl0QnRuLmNsYXNzTGlzdC5hZGQoJ3Rhc2stZWRpdC1idG4nKTtcbiAgICB0YXNrRWRpdEJ0bi50ZXh0Q29udGVudCA9ICcrJztcblxuICAgIHRhc2suYXBwZW5kQ2hpbGQodGFza0VkaXRCdG4pO1xuXG4gICAgdGFza0VkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIGJ1dHRvbiB0byBob2xkIElkIHZhbHVlXG4gICAgICAgIGNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtZm9ybScpO1xuICAgICAgICBjb25zdCBidG5Gb3JJZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIGJ0bkZvcklkLmNsYXNzTGlzdC5hZGQoJ2VkaXQtYnRuLWlkJyk7XG4gICAgICAgIGJ0bkZvcklkLnZhbHVlID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgZWRpdEZvcm0uYXBwZW5kQ2hpbGQoYnRuRm9ySWQpO1xuXG4gICAgICAgIC8vIENoYW5nZSBmb3JtIGZpZWxkcyB0byB0YXNrIGluZm8gYW5kIG9wZW4gbW9kYWxcbiAgICAgICAgY2hhbmdlVGFza0Zvcm1GaWVsZHMoZmluZFRhc2tXaXRoSWQoZS50YXJnZXQudmFsdWUpKTtcbiAgICAgICAgZ2V0RWRpdERpYWxvZygpLnNob3dNb2RhbCgpO1xuICAgIH0pXG5cbiAgICByZXR1cm4gdGFza0VkaXRCdG47XG59XG5cbmZ1bmN0aW9uIGNoYW5nZVRhc2tGb3JtRmllbGRzKHRhc2spIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtZm9ybScpO1xuXG4gICAgY29uc3QgdGFza1RpdGxlSW5Gb3JtID0gZm9ybS5lbGVtZW50c1sndGFzay10aXRsZSddO1xuICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbkluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stZGVzY3JpcHRpb24nXTtcbiAgICBjb25zdCB0YXNrRHVlRGF0ZUluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stZHVlLWRhdGUnXTtcbiAgICBjb25zdCB0YXNrUHJpb3JpdHlJbkZvcm0gPSBmb3JtLmVsZW1lbnRzWyd0YXNrLXByaW9yaXR5J107XG5cbiAgICB0YXNrVGl0bGVJbkZvcm0udmFsdWUgPSB0YXNrLnRpdGxlO1xuICAgIHRhc2tEZXNjcmlwdGlvbkluRm9ybS52YWx1ZSA9IHRhc2suZGVzY3JpcHRpb247XG4gICAgdGFza0R1ZURhdGVJbkZvcm0udmFsdWUgPSB0YXNrLmR1ZURhdGU7XG4gICAgdGFza1ByaW9yaXR5SW5Gb3JtLnZhbHVlID0gdGFzay5wcmlvcml0eTtcbn0gXG5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2tTdGF0dXNCdXR0b24odGFzaykge1xuICAgIGNvbnN0IHRhc2tTdGF0dXNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIHRhc2tTdGF0dXNCdG4uY2xhc3NMaXN0LmFkZCgndGFzay1zdGF0dXMtYnRuJyk7XG4gICAgdGFza1N0YXR1c0J0bi50ZXh0Q29udGVudCA9ICfinJQnO1xuXG4gICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrU3RhdHVzQnRuKTtcblxuICAgIHRhc2tTdGF0dXNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxldCB0aGlzQnV0dG9uID0gZS50YXJnZXQ7XG4gICAgICAgIGNoYW5nZVRhc2tTdGF0dXModGhpc0J1dHRvbi52YWx1ZSk7XG4gICAgICAgIHRvZ2dsZUNvbXBsZXRlU3R5bGUodGhpc0J1dHRvbik7XG4gICAgfSlcblxuICAgIHJldHVybiB0YXNrU3RhdHVzQnRuO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVDb21wbGV0ZVN0eWxlKGVsZW1lbnQpIHtcbiAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbXBsZXRlLXRhc2snKSkge1xuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnY29tcGxldGUtdGFzaycpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbXBsZXRlLXRhc2snKTtcbiAgICB9XG59XG5cblxuXG5mdW5jdGlvbiBnZXRGb2xkZXJGb3JtSW5mbygpIHtcbiAgICBjb25zdCBmb2xkZXJGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvbGRlci1mb3JtJyk7XG5cbiAgICBjb25zdCBmb2xkZXJUaXRsZUluRm9ybSA9IGZvbGRlckZvcm0uZWxlbWVudHNbJ2ZvbGRlci10aXRsZSddLnZhbHVlO1xuXG4gICAgcmV0dXJuIHtmb2xkZXJGb3JtLCBmb2xkZXJUaXRsZUluRm9ybX07XG59XG5cbmZ1bmN0aW9uIGNsZWFyVGFza0NvbnRhaW5lcigpIHtcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stY29udGFpbmVyJyk7XG5cbiAgICB0YXNrQ29udGFpbmVyLnRleHRDb250ZW50ID0gJyc7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZERyb3Bkb3duKHN1cGVyRm9sZGVyKSB7XG5cbiAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9sZGVyLXNlbGVjdGlvbicpO1xuXG4gICAgY2xlYXJTZWxlY3RNZW51KHNlbGVjdCk7XG5cbiAgICBzdXBlckZvbGRlci5mb2xkZXJzLmZvckVhY2goZm9sZGVyID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIFxuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBmb2xkZXIudGl0bGU7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGZvbGRlci5teUZvbGRlclV1aWQ7IC8vIGZpZ3VyZSBvdXQgaWYgdGhpcyBpcyBnb29kIHdheSB0byBzZWxlY3RcbiAgICAgICAgLy8gb3B0aW9uLnNldEF0dHJpYnV0ZSgnaW5kZXgnLCBpbmRleCsrKTtcblxuICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBjbGVhclNlbGVjdE1lbnUoc2VsZWN0T3B0aW9uKSB7XG4gICAgZm9yIChsZXQgaSA9IHNlbGVjdE9wdGlvbi5vcHRpb25zLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgc2VsZWN0T3B0aW9uLnJlbW92ZSgwKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7XG4gICAgZ2V0VGFza0Zvcm1JbmZvLFxuICAgIGdldFRhc2tFZGl0Rm9ybUluZm8sXG4gICAgZ2V0Rm9sZGVyRm9ybUluZm8sXG4gICAgY3JlYXRlVGFza0VsZW1lbnQsXG4gICAgY3JlYXRlRm9sZGVyQnV0dG9uLFxuICAgIGFwcGVuZEZvbGRlcixcbiAgICBkaXNwbGF5Rm9sZGVyVGFza3MsXG4gICAgYXBwZW5kVGFzayxcbiAgICBkaXNwbGF5Rm9sZGVycyxcbiAgICBjbGVhclRhc2tDb250YWluZXIsXG4gICAgYXBwZW5kRHJvcGRvd24sXG4gICAgY2xlYXJTZWxlY3RNZW51LFxufSIsImltcG9ydCB7XG4gICAgVGFzayxcbiAgICBGb2xkZXIsXG4gICAgU3VwZXJGb2xkZXJcbn0gZnJvbSAnLi9tb2R1bGVzL2ZhY3Rvcmllcy5qcyc7XG5cbmltcG9ydCB7XG4gICAgZ2V0VGFza0Zvcm1JbmZvLFxuICAgIGdldFRhc2tFZGl0Rm9ybUluZm8sXG4gICAgZ2V0Rm9sZGVyRm9ybUluZm8sXG4gICAgYXBwZW5kRm9sZGVyLFxuICAgIGRpc3BsYXlGb2xkZXJUYXNrcyxcbiAgICBjbGVhclRhc2tDb250YWluZXIsXG4gICAgYXBwZW5kRHJvcGRvd24sXG4gICAgZGlzcGxheUZvbGRlcnNcblxufSBmcm9tICcuL21vZHVsZXMvZG9tLmpzJztcblxuaW1wb3J0IHsgZm9ybWF0RGlzdGFuY2UsIHN1YkRheXMgfSBmcm9tIFwiZGF0ZS1mbnNcIjtcblxuXG4vL1N1cGVyIEZvbGRlciBcbmxldCBzdXBlckZvbGRlciA9IFN1cGVyRm9sZGVyKCcxMjM0NTYnKTtcblxuLy8gT3BlbiB0YXNrIG1vZGFsIHdoZW4gY2xpY2tlZFxuY29uc3Qgb3BlblRhc2tNb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGVuLXRhc2stbW9kYWwtYnRuJyk7XG5vcGVuVGFza01vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgZ2V0VGFza0RpYWxvZygpLnJlc2V0O1xuICAgIGdldFRhc2tEaWFsb2coKS5zaG93TW9kYWwoKTtcbiAgICBhcHBlbmREcm9wZG93bihKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2xkZXJzJykpKTtcbn0pO1xuXG4vLyBHZXQgdGFzayBkaWFsb2cgYW5kIHJldHVybiBcbmZ1bmN0aW9uIGdldFRhc2tEaWFsb2coKSB7XG4gICAgY29uc3QgdGFza0RpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWRpYWxvZycpO1xuXG4gICAgcmV0dXJuIHRhc2tEaWFsb2c7XG59XG5cbmZ1bmN0aW9uIGdldEVkaXREaWFsb2coKSB7XG4gICAgY29uc3QgZWRpdERpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWRpYWxvZycpO1xuXG4gICAgcmV0dXJuIGVkaXREaWFsb2c7XG59XG5cbi8vIE9wZW4gZm9sZGVyIG1vZGFsIHdoZW4gY2xpY2tlZFxuY29uc3QgYWRkRm9sZGVyQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvbGRlci1hZGQtYnRuJyk7XG5hZGRGb2xkZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBmb2xkZXJGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvbGRlci1mb3JtJyk7XG4gICAgZm9sZGVyRm9ybS5yZXNldCgpO1xuICAgIFxuICAgIGNvbnN0IGZvbGRlckRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItZGlhbG9nJyk7XG4gICAgZm9sZGVyRGlhbG9nLnNob3dNb2RhbCgpO1xuICAgIFxufSk7XG5cbi8vIEV2ZW50IGxpc3RlbmVyIHRvIHN1Ym1pdCBmb2xkZXIgZm9ybVxuLy8gQ3JlYXRlIGEgbmV3IGZvbGRlciBpbnN0YW5jZSB3aXRoIGluZm8gZnJvbSBmb3JtXG4vLyBBZGQgdG8gRE9NXG4vLyBBZGQgdG8gc3VwZXIgZm9sZGVyXG4vLyBTaG91bGQgYmUgZG9uZSBvbiB0aGUgZm9ybSBpbnN0ZWFkIG9mIGJ1dHRvbiBidXQgTUROIGV4YW1wbGUgd2l0aCBkaWFsb2cgZGlkIGl0IHRoaXMgd2F5XG5jb25zdCBmb2xkZXJTdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9sZGVyLWNvbmZpcm0tYnRuJyk7XG5mb2xkZXJTdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgIGNvbnN0IGZvbGRlckRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItZGlhbG9nJyk7XG4gICAgY29uc3Qge2ZvbGRlclRpdGxlSW5Gb3JtfSA9IGdldEZvbGRlckZvcm1JbmZvKCk7XG5cbiAgICBsZXQgbmV3Rm9sZGVyID0gRm9sZGVyKGZvbGRlclRpdGxlSW5Gb3JtKTtcbiAgICBhcHBlbmRGb2xkZXIobmV3Rm9sZGVyKTtcbiAgICBcbiAgICBzdXBlckZvbGRlci5hZGRGb2xkZXIobmV3Rm9sZGVyKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZm9sZGVycycsIEpTT04uc3RyaW5naWZ5KHN1cGVyRm9sZGVyKSk7XG5cbiAgICBsZXQgc3VwZXJGb2xkZXJGcm9tTHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmb2xkZXJzJykpO1xuXG4gICAgcmVjcmVhdGVTdXBlckZvbGRlckZyb21PYmplY3Qoc3VwZXJGb2xkZXJGcm9tTHMpO1xuXG4gICAgZm9sZGVyRGlhbG9nLmNsb3NlKCk7XG5cbn0pO1xuXG5jb25zdCB0YXNrQWRkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stYWRkLWJ0bicpO1xuLy8gQ3JlYXRlIG5ldyB0YXNrIGluc3RhbmNlIHVzaW5nIGluZm8gZnJvbSBmb3JtXG50YXNrQWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIC8vIEdldCB2YWx1ZSBvZiB0aGUgc2VsZWN0ZWQgZmllbGQgKElkIGJlY2F1c2UgdmFsdWUgaXMgc2V0IHRvIGlkIGluIGRvbS5qcylcbiAgICBjb25zdCBzZWxlY3RlZEZvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItc2VsZWN0aW9uJyk7XG4gICAgY29uc3Qgc2VsZWN0ZWRGb2xkZXJWYWx1ZSA9IHNlbGVjdGVkRm9sZGVyLnZhbHVlO1xuICAgIC8vIEdldCB2YWx1ZXMgb2YgdGhlIGZvcm1cbiAgICBjb25zdCB7dGFza1RpdGxlLCB0YXNrRGVzY3JpcHRpb24sIHRhc2tEdWVEYXRlLCB0YXNrUHJpb3JpdHl9ID0gZ2V0VGFza0Zvcm1JbmZvKCk7XG5cbiAgICAvLyBDcmVhdGUgbmV3IHRhc2sgYW5kIGxvb3AgdGhyb3VnaCBmb2xkZXIgdG8gZmluZCBtYXRjaGluZyBJZCBhbmQgYWRkXG4gICAgY29uc3QgbmV3VGFzayA9IFRhc2sodGFza1RpdGxlLCB0YXNrRGVzY3JpcHRpb24sIHRhc2tEdWVEYXRlLCB0YXNrUHJpb3JpdHkpO1xuICAgIHN1cGVyRm9sZGVyLmZvbGRlcnMuZm9yRWFjaChmb2xkZXIgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0ZWRGb2xkZXJWYWx1ZSA9PT0gZm9sZGVyLm15Rm9sZGVyVXVpZCkge1xuICAgICAgICAgICAgZm9sZGVyLmFkZFRhc2sobmV3VGFzayk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb2xkZXJzJywgSlNPTi5zdHJpbmdpZnkoc3VwZXJGb2xkZXIpKTtcblxuICAgIGxldCBzdXBlckZvbGRlckZyb21McyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZvbGRlcnMnKSk7XG5cbiAgICByZWNyZWF0ZVN1cGVyRm9sZGVyRnJvbU9iamVjdChzdXBlckZvbGRlckZyb21Mcyk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIHRhc2tzIG9mIHRoZSBmb2xkZXIgdGhhdCBpcyBjdXJyZW50bHkgYmVpbmcgZGlzcGxheWVkIHRvIGF2b2lkIHJlbG9hZGluZyBmb2xkZXJcbiAgICBkaXNwbGF5Q3VycmVudEZvbGRlcldpdGhJZChzZWxlY3RlZEZvbGRlclZhbHVlKTtcbiAgICBcbiAgICAvLyBDbGVhciBmb3JtIGZpZWxkc1xuICAgIGNvbnN0IHRhc2tGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tZm9ybScpO1xuICAgIHRhc2tGb3JtLnJlc2V0KCk7XG4gICAgZ2V0VGFza0RpYWxvZygpLmNsb3NlKCk7XG59KVxuXG4vLyBTZWxlY3QgdGhlIGJ1dHRvbiB3aXRoIElkIGFuZCBmaW5kIHRhc2sgd2l0aCB0aGF0IElkXG4vLyBDaGFuZ2UgdGhlIGluZm8gb2YgdGhhdCB0YXNrIGFuZCB1cGRhdGUgZm9sZGVyXG4vLyBEZWxldGUgYnV0dG9uIGFmdGVyIGFuZCBjbG9zZVxuY29uc3QgdGFza0VkaXRDb25maXJtQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stZWRpdC1idG4nKTtcbnRhc2tFZGl0Q29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgY29uc3QgYnRuSWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1idG4taWQnKTtcbiAgICBcbiAgICBjb25zdCB7dGFza1RpdGxlLCB0YXNrRGVzY3JpcHRpb24sIHRhc2tEdWVEYXRlLCB0YXNrUHJpb3JpdHl9ID0gZ2V0VGFza0VkaXRGb3JtSW5mbygpO1xuICAgIFxuICAgIHN1cGVyRm9sZGVyLmZvbGRlcnMuZm9yRWFjaChmb2xkZXIgPT4ge1xuICAgICAgICBmb2xkZXIudGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgIGlmIChidG5JZC52YWx1ZSA9PT0gdGFzay5teVRhc2tVdWlkKSB7XG4gICAgICAgICAgICAgICAgdGFzay5lZGl0VGFzayh0YXNrVGl0bGUsIHRhc2tEZXNjcmlwdGlvbiwgdGFza0R1ZURhdGUsIHRhc2tQcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgZGlzcGxheUN1cnJlbnRGb2xkZXJXaXRoSWQoZm9sZGVyLm15Rm9sZGVyVXVpZCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSk7XG4gICAgXG4gICAgc2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgYnRuSWQucmVtb3ZlKCk7XG4gICAgZ2V0RWRpdERpYWxvZygpLmNsb3NlKCk7XG4gICAgXG59KVxuXG5cbmZ1bmN0aW9uIGxvYWRQcmVzZXRGb2xkZXJzKCkge1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9sZGVycycpKXtcbiAgICAgICAgbGV0IHN1cGVyRm9sZGVyRnJvbUxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9sZGVycycpKTtcbiAgICAgICAgcmVjcmVhdGVTdXBlckZvbGRlckZyb21PYmplY3Qoc3VwZXJGb2xkZXJGcm9tTHMpO1xuXG4gICAgICAgIGRpc3BsYXlGb2xkZXJzKHN1cGVyRm9sZGVyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0luc2lkZSBvZiBsb2FkaW5nIHByZXNldCwgYWZ0ZXIgZGlzcGxheWluZycsIHN1cGVyRm9sZGVyRnJvbUxzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0YXNrMSA9IFRhc2soJ2Nob3JlcycsICd3YXNoIGRpc2hlcycsICdub3YgMjMnLCAnaGlnaCcpO1xuICAgICAgICBjb25zdCB0YXNrMiA9IFRhc2soJ21vdmllcycsICdhdmF0YXInLCAnbm92IDI5JywgJ21lZCcpO1xuICAgICAgICBjb25zdCB0YXNrMyA9IFRhc2soJ2NvZGluZycsICd0b2RvIGxpc3QnLCAnZGVjIDEwJywgJ2xvdycpO1xuXG4gICAgICAgIGxldCBpbmJveEZvbGRlciA9IEZvbGRlcignSW5ib3gnLCAnaW5ib3hGb2xkZXInKTtcbiAgICAgICAgaW5ib3hGb2xkZXIuYWRkVGFzayh0YXNrMSk7XG4gICAgICAgIHN1cGVyRm9sZGVyLmFkZEZvbGRlcihpbmJveEZvbGRlcik7XG4gICAgICAgIGFwcGVuZEZvbGRlcihpbmJveEZvbGRlcik7XG5cbiAgICAgICAgbGV0IHRlc3RGb2xkZXIyID0gRm9sZGVyKCd0ZXN0MicpO1xuICAgICAgICB0ZXN0Rm9sZGVyMi5hZGRUYXNrKHRhc2syKTtcbiAgICAgICAgdGVzdEZvbGRlcjIuYWRkVGFzayh0YXNrMSk7XG4gICAgICAgIHRlc3RGb2xkZXIyLmFkZFRhc2sodGFzazMpO1xuICAgICAgICB0ZXN0Rm9sZGVyMi5kZWxldGVUYXNrKHRhc2syKTtcbiAgICAgICAgc3VwZXJGb2xkZXIuYWRkRm9sZGVyKHRlc3RGb2xkZXIyKTtcbiAgICAgICAgYXBwZW5kRm9sZGVyKHRlc3RGb2xkZXIyKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vsc2Ugc3R1ZiBoYXBwZW5lZCcpO1xuICAgIH1cbn1cbmxvYWRQcmVzZXRGb2xkZXJzKCk7XG5cbi8vIFJlY3JlYXRlIHRhc2sgZnJvbSBnZW5lcmljIG9iamVjdFxuZnVuY3Rpb24gcmVjcmVhdGVUYXNrT2JqKHRhcmdldE9iaikge1xuICAgIGNvbnN0IHt0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBteVRhc2tVdWlkfSA9IHRhcmdldE9iajtcblxuICAgIHJldHVybiBUYXNrKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIG15VGFza1V1aWQpO1xufVxuXG4vLyBSZWNyZWF0ZSBhIGZvbGRlciBmcm9tIGdlbmVyaWMgb2JqZWN0XG4vLyBMb29wIHRocm91Z2ggR0VORVJJQyBvYmplY3RzIHRhc2tzXG4vLyBGb3IgZWFjaCB0YXNrLCByZWNyZWF0ZSBhIHRhc2sgYW5kIGFkZCB0byB0aGF0IGZvbGRlclxuZnVuY3Rpb24gcmVjcmVhdGVGb2xkZXJGcm9tT2JqZWN0KGdlbmVyaWNPYmopIHtcblxuICAgIGNvbnN0IHt0aXRsZSwgIG15Rm9sZGVyVXVpZH0gPSBnZW5lcmljT2JqO1xuICAgIFxuICAgIGxldCBmb2xkZXJEdXBlID0gRm9sZGVyKHRpdGxlLCBteUZvbGRlclV1aWQpO1xuXG4gICAgZ2VuZXJpY09iai50YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBmb2xkZXJEdXBlLmFkZFRhc2socmVjcmVhdGVUYXNrT2JqKHRhc2spKTtcbiAgICB9KVxuXG4gICAgcmV0dXJuIGZvbGRlckR1cGU7XG4gICAgXG59XG5cbmZ1bmN0aW9uIHJlY3JlYXRlU3VwZXJGb2xkZXJGcm9tT2JqZWN0KGdlbmVyaWNPYmopIHtcbiAgICBjb25zdCB7bXlTdXBlckZvbGRlclV1aWR9ID0gZ2VuZXJpY09iajtcblxuICAgIHN1cGVyRm9sZGVyID0gU3VwZXJGb2xkZXIobXlTdXBlckZvbGRlclV1aWQpO1xuXG4gICAgZ2VuZXJpY09iai5mb2xkZXJzLmZvckVhY2goZm9sZGVyID0+IHtcbiAgICAgICAgc3VwZXJGb2xkZXIuYWRkRm9sZGVyKHJlY3JlYXRlRm9sZGVyRnJvbU9iamVjdChmb2xkZXIpKVxuICAgIH0pXG5cbiAgICBjb25zb2xlLmxvZygnZnJvbSByZWNyZWF0ZSBzdXBlciBmb2xkZXIgZnVuY3Rpb24nLCBzdXBlckZvbGRlcik7XG4gICAgcmV0dXJuIHN1cGVyRm9sZGVyO1xufVxuXG5cbmZ1bmN0aW9uIHNldExvY2FsU3RvcmFnZSgpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZm9sZGVycycsIEpTT04uc3RyaW5naWZ5KHN1cGVyRm9sZGVyKSk7XG59XG5cbi8vIEdvIHRocm91Z2ggYWxsIGZvbGRlcnMgYW5kIGNoZWNrIGlmIHRoZSBjbGlja2VkIGJ1dHRvbiB2YWx1ZSBtYXRjaGVzIGZvbGRlciB2YWx1ZVxuLy8gdGhlbiBkaXNwbGF5IHRhc2tzIG9mIHRoYXQgZm9sZGVyIHRvIHNjcmVlblxuZnVuY3Rpb24gZGlzcGxheUN1cnJlbnRGb2xkZXJXaXRoSWQodGVtcElkKSB7XG5cbiAgICBzdXBlckZvbGRlci5mb2xkZXJzLmZvckVhY2goZm9sZGVyID0+IHtcbiAgICAgICAgaWYgKHRlbXBJZCA9PT0gZm9sZGVyLm15Rm9sZGVyVXVpZCkge1xuICAgICAgICAgICAgY2xlYXJUYXNrQ29udGFpbmVyKCk7XG4gICAgICAgICAgICAvL2Rpc3BsYXkgYWxsIHRhc2tzIG9mIHRoaXMgZm9sZGVyIHRvIHBhZ2VcbiAgICAgICAgICAgIGRpc3BsYXlGb2xkZXJUYXNrcyhmb2xkZXIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJtYXRjaCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkZWxldGVGb2xkZXJXaXRoSWQoYnV0dG9uSWQpIHtcbiAgICBzdXBlckZvbGRlci5mb2xkZXJzLmZvckVhY2goZm9sZGVyID0+IHtcbiAgICAgICAgaWYgKGJ1dHRvbklkID09PSBmb2xkZXIubXlGb2xkZXJVdWlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhidXR0b25JZCk7XG4gICAgICAgICAgICBzdXBlckZvbGRlci5kZWxldGVGb2xkZXIoZm9sZGVyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkZWxldGVUYXNrV2l0aElkKGJ1dHRvbklkKSB7XG4gICAgc3VwZXJGb2xkZXIuZm9sZGVycy5mb3JFYWNoKGZvbGRlciA9PiB7XG4gICAgICAgIGZvbGRlci50YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgICAgaWYgKGJ1dHRvbklkID09PSB0YXNrLm15VGFza1V1aWQpIHtcbiAgICAgICAgICAgICAgICBmb2xkZXIuZGVsZXRlVGFzayh0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlVGFza1N0YXR1cyh0YXNrSWQpIHtcbiAgICBzdXBlckZvbGRlci5mb2xkZXJzLmZvckVhY2goZm9sZGVyID0+IHtcbiAgICAgICAgZm9sZGVyLnRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICBpZiAodGFza0lkID09PSB0YXNrLm15VGFza1V1aWQpIHtcbiAgICAgICAgICAgICAgICB0YXNrLnNldENvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGZpbmRUYXNrV2l0aElkKGJ1dHRvbklkKSB7XG4gICAgbGV0IG91dHB1dDtcbiAgICBzdXBlckZvbGRlci5mb2xkZXJzLmZvckVhY2goZm9sZGVyID0+IHtcbiAgICAgICAgZm9sZGVyLnRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICBpZiAoYnV0dG9uSWQgPT09IHRhc2subXlUYXNrVXVpZCkge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHRhc2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSk7XG4gICAgcmV0dXJuIG91dHB1dDtcbn1cblxuZXhwb3J0IHtcbiAgICBkaXNwbGF5Q3VycmVudEZvbGRlcldpdGhJZCxcbiAgICBkZWxldGVGb2xkZXJXaXRoSWQsXG4gICAgZGVsZXRlVGFza1dpdGhJZCxcbiAgICBjaGFuZ2VUYXNrU3RhdHVzLFxuICAgIGdldFRhc2tEaWFsb2csXG4gICAgZmluZFRhc2tXaXRoSWQsXG4gICAgZ2V0RWRpdERpYWxvZyxcbiAgICBzdXBlckZvbGRlcixcbiAgICBzZXRMb2NhbFN0b3JhZ2Vcbn0iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyYW5kb21VVUlEIiwiY3J5cHRvIiwiYmluZCIsImdldFJhbmRvbVZhbHVlcyIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZyIsIkVycm9yIiwiYnl0ZVRvSGV4IiwiaSIsInB1c2giLCJ0b1N0cmluZyIsInNsaWNlIiwib3B0aW9ucyIsImJ1ZiIsIm9mZnNldCIsInJuZHMiLCJyYW5kb20iLCJhcnIiLCJ1bnNhZmVTdHJpbmdpZnkiLCJUYXNrIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsIm15VGFza1V1aWQiLCJjb21wbGV0ZVN0YXRlIiwiZ2V0Q29tcGxldGVTdGF0ZSIsImNoYW5nZVByaW9yaXR5IiwibmV3UHJpb3JpdHkiLCJzZXRDb21wbGV0ZSIsImVkaXRUYXNrIiwibmV3VGl0bGUiLCJuZXdEZXNjcmlwdGlvbiIsIm5ld0R1ZURhdGUiLCJwcmludFRhc2siLCJjb25zb2xlIiwibG9nIiwiRm9sZGVyIiwibXlGb2xkZXJVdWlkIiwidGFza3MiLCJhZGRUYXNrIiwibmV3VGFza05hbWUiLCJkaXNwbGF5VGFza3MiLCJsZW5ndGgiLCJkZWxldGVUYXNrIiwidGFza05hbWUiLCJzcGxpY2UiLCJTdXBlckZvbGRlciIsIm15U3VwZXJGb2xkZXJVdWlkIiwiZm9sZGVycyIsImFkZEZvbGRlciIsIm5ld0ZvbGRlck5hbWUiLCJkZWxldGVGb2xkZXIiLCJmb2xkZXJOYW1lIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsImRpc3BsYXlGb2xkZXJUYXNrcyIsImZvckVhY2giLCJ0YXNrIiwibG9jYXRpb24iLCJ0YXNrRE9NIiwidGFza0RpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInRhc2tUaXRsZUluRGl2IiwidGFza0Rlc2NyaXB0aW9uSW5EaXYiLCJ0YXNrRHVlRGF0ZUluRGl2IiwidGFza1ByaW9yaXR5SW5EaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwidGFza0RlbGV0ZUJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGhpc0J1dHRvbiIsInRhcmdldCIsImRlbGV0ZVRhc2tXaXRoSWQiLCJ2YWx1ZSIsInBhcmVudE5vZGUiLCJyZW1vdmUiLCJzZXRMb2NhbFN0b3JhZ2UiLCJjcmVhdGVUYXNrRGVsZXRlQnV0dG9uIiwidGFza0VkaXRCdG4iLCJlZGl0Rm9ybSIsImdldEVsZW1lbnRCeUlkIiwiYnRuRm9ySWQiLCJmb3JtIiwidGFza1RpdGxlSW5Gb3JtIiwiZWxlbWVudHMiLCJ0YXNrRGVzY3JpcHRpb25JbkZvcm0iLCJ0YXNrRHVlRGF0ZUluRm9ybSIsInRhc2tQcmlvcml0eUluRm9ybSIsImNoYW5nZVRhc2tGb3JtRmllbGRzIiwiZmluZFRhc2tXaXRoSWQiLCJnZXRFZGl0RGlhbG9nIiwic2hvd01vZGFsIiwiY3JlYXRlVGFza0VkaXRCdXR0b24iLCJ0YXNrU3RhdHVzQnRuIiwiZWxlbWVudCIsImNoYW5nZVRhc2tTdGF0dXMiLCJjb250YWlucyIsImNyZWF0ZVRhc2tTdGF0dXNCdXR0b24iLCJjcmVhdGVUYXNrRWxlbWVudCIsImFwcGVuZFRhc2siLCJhcHBlbmRGb2xkZXIiLCJmb2xkZXJET00iLCJzaWRlYmFyIiwicXVlcnlTZWxlY3RvciIsImZvbGRlckRpdiIsImZvbGRlckJ0biIsImZvbGRlciIsImZvbGRlckRlbGV0ZUJ0biIsImRlbGV0ZUZvbGRlcldpdGhJZCIsImNyZWF0ZUZvbGRlckRlbGV0ZUJ1dHRvbiIsImNoaWxkQnRuIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiY3VycmVudEZvbGRlcklkIiwiZGlzcGxheUN1cnJlbnRGb2xkZXJXaXRoSWQiLCJjcmVhdGVGb2xkZXJCdXR0b24iLCJzaWRlYmFyRm9sZGVycyIsImluYm94RGl2Iiwic3VwZXJGb2xkZXIiLCJnZXRUYXNrRGlhbG9nIiwicmVjcmVhdGVTdXBlckZvbGRlckZyb21PYmplY3QiLCJnZW5lcmljT2JqIiwiZm9sZGVyRHVwZSIsInRhcmdldE9iaiIsInJlY3JlYXRlVGFza09iaiIsInJlY3JlYXRlRm9sZGVyRnJvbU9iamVjdCIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwidGVtcElkIiwiYnV0dG9uSWQiLCJ0YXNrSWQiLCJvdXRwdXQiLCJyZXNldCIsInNlbGVjdCIsInNlbGVjdE9wdGlvbiIsImNsZWFyU2VsZWN0TWVudSIsIm9wdGlvbiIsImFwcGVuZERyb3Bkb3duIiwicGFyc2UiLCJnZXRJdGVtIiwicHJldmVudERlZmF1bHQiLCJmb2xkZXJEaWFsb2ciLCJmb2xkZXJUaXRsZUluRm9ybSIsImZvbGRlckZvcm0iLCJnZXRGb2xkZXJGb3JtSW5mbyIsIm5ld0ZvbGRlciIsImNsb3NlIiwic2VsZWN0ZWRGb2xkZXJWYWx1ZSIsInRhc2tUaXRsZSIsInRhc2tEZXNjcmlwdGlvbiIsInRhc2tEdWVEYXRlIiwidGFza1ByaW9yaXR5IiwiZ2V0VGFza0Zvcm1JbmZvIiwibmV3VGFzayIsImJ0bklkIiwiZ2V0VGFza0VkaXRGb3JtSW5mbyIsInN1cGVyRm9sZGVyRnJvbUxzIiwidGFzazEiLCJ0YXNrMiIsInRhc2szIiwiaW5ib3hGb2xkZXIiLCJ0ZXN0Rm9sZGVyMiIsImxvYWRQcmVzZXRGb2xkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==