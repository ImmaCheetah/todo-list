(()=>{"use strict";function e(){const e=document.getElementById("main-form"),t=e.elements["task-title"],n=e.elements["task-description"],o=e.elements["task-due-date"],d=e.elements["task-priority"];let a=t.value,s=n.value,i=o.value,l=d.value;return console.log(a),console.log("dom works"),{taskTitle:a,taskDescription:s,taskDueDate:i,taskPriority:l}}function t(e,t,n,o){let d=!1;e=e.toString(),t=t.toString();const a=e=>{o=e};return{get title(){return e},get description(){return t},get dueDate(){return n},get priority(){return o},getCompleteState:()=>d,setComplete:()=>{d=!0},changePriority:a,editTask:(o,d,s,i)=>{e=o,t=d,n=s,a(i)},printTask:()=>{console.log(`Task title - ${e}, Desc - ${t}, Date - ${n}, Priority - ${o}`)}}}function n(e){let t=[];return{title:e,tasks:t,addTask:e=>{t.push(e)},displayTasks:()=>{for(let e=0;e<t.length;e++)console.log(`Task ${e} - ${t[e].title}, ${t[e].dueDate}, ${t[e].priority}`)},deleteTask:e=>{t.splice(e,1)}}}const o=function(){let e=[];return{folders:e,addFolder:t=>{e.push(t)},deleteFolder:t=>{e.splice(t,1)}}}(),d=n("Inbox"),a=t("chores","wash dishes","nov 23","high"),s=t("movies","avatar","nov 29","med"),i=t("coding","todo list","dec 10","low"),l=n("project 1");n("project 2"),a.editTask("new thing","another new thing","new date","HIGH"),l.addTask(a),a.printTask(),l.addTask(s),d.addTask(i),d.addTask(s),d.addTask(a),d.displayTasks(),o.addFolder(d),console.log(o);const r=document.getElementById("task-add-btn"),c=(document.getElementById("header"),document.getElementById("task-dialog"));document.getElementById("folder-dialog"),c.show(),r.addEventListener("click",(function(){const{taskTitle:n,taskDescription:o,taskDueDate:d,taskPriority:a}=e(),s=t(n,o,d,a);console.log(s.printTask())})),e(),d.tasks.forEach((e=>{!function(e,t){let n=function(e){const t=document.createElement("div"),n=document.createElement("p"),o=document.createElement("p"),d=document.createElement("p"),a=document.createElement("p");return t.classList.add("task-div"),n.textContent=e.title,o.textContent=e.description,d.textContent=e.dueDate,a.textContent=e.priority,t.appendChild(n),t.appendChild(o),t.appendChild(d),t.appendChild(a),t}(e);document.getElementById(["task-container"]).appendChild(n)}(e)})),o.folders.forEach((e=>{!function(e){let t=function(e){const t=document.createElement("div"),n=document.createElement("button");return t.classList.add("folder-div"),n.textContent=e.title,t.appendChild(n),t}(e);document.querySelector(".sidebar").appendChild(t)}(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU8sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2RvbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZGlzcGxheUZvbGRlclRhc2tzKGZvbGRlck5hbWUpIHtcbiAgICBmb2xkZXJOYW1lLnRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgIGFwcGVuZFRhc2sodGFzaywgWyd0YXNrLWNvbnRhaW5lciddKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUZvbGRlcnMoc3VwZXJGb2xkZXJOYW1lKSB7XG4gICAgLy8gY29uc3QgbWFpbkZvbGRlckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb2xkZXItZGl2Jyk7XG5cbiAgICBzdXBlckZvbGRlck5hbWUuZm9sZGVycy5mb3JFYWNoKGZvbGRlciA9PiB7XG4gICAgICAgIGFwcGVuZEZvbGRlcihmb2xkZXIpO1xuICAgIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZvbGRlckVsZW1lbnQoZm9sZGVyTmFtZSkge1xuICAgIGNvbnN0IGZvbGRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGZvbGRlclRpdGxlSW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIGZvbGRlckRpdi5jbGFzc0xpc3QuYWRkKCdmb2xkZXItZGl2Jyk7XG4gICAgZm9sZGVyVGl0bGVJbkRpdi50ZXh0Q29udGVudCA9IGZvbGRlck5hbWUudGl0bGU7XG5cbiAgICBmb2xkZXJEaXYuYXBwZW5kQ2hpbGQoZm9sZGVyVGl0bGVJbkRpdik7XG5cbiAgICByZXR1cm4gZm9sZGVyRGl2O1xufVxuXG5mdW5jdGlvbiBhcHBlbmRGb2xkZXIoZm9sZGVyTmFtZSkge1xuICAgIGxldCBmb2xkZXJET00gPSBjcmVhdGVGb2xkZXJFbGVtZW50KGZvbGRlck5hbWUpO1xuXG4gICAgY29uc3Qgc2lkZWJhckZvbGRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhcicpO1xuICAgIHNpZGViYXJGb2xkZXJzLmFwcGVuZENoaWxkKGZvbGRlckRPTSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2tFbGVtZW50KHRhc2tOYW1lKSB7XG4gICAgY29uc3QgdGFza0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHRhc2tUaXRsZUluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbkluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRhc2tEdWVEYXRlSW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgdGFza1ByaW9yaXR5SW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cbiAgICB0YXNrRGl2LmNsYXNzTGlzdC5hZGQoJ3Rhc2stZGl2Jyk7XG4gICAgdGFza1RpdGxlSW5EaXYudGV4dENvbnRlbnQgPSB0YXNrTmFtZS50aXRsZTtcbiAgICB0YXNrRGVzY3JpcHRpb25JbkRpdi50ZXh0Q29udGVudCA9IHRhc2tOYW1lLmRlc2NyaXB0aW9uO1xuICAgIHRhc2tEdWVEYXRlSW5EaXYudGV4dENvbnRlbnQgPSB0YXNrTmFtZS5kdWVEYXRlO1xuICAgIHRhc2tQcmlvcml0eUluRGl2LnRleHRDb250ZW50ID0gdGFza05hbWUucHJpb3JpdHk7XG5cbiAgICB0YXNrRGl2LmFwcGVuZENoaWxkKHRhc2tUaXRsZUluRGl2KTtcbiAgICB0YXNrRGl2LmFwcGVuZENoaWxkKHRhc2tEZXNjcmlwdGlvbkluRGl2KTtcbiAgICB0YXNrRGl2LmFwcGVuZENoaWxkKHRhc2tEdWVEYXRlSW5EaXYpO1xuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza1ByaW9yaXR5SW5EaXYpO1xuXG4gICAgcmV0dXJuIHRhc2tEaXY7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFRhc2sodGFza05hbWUsIGxvY2F0aW9uKSB7XG4gICAgbGV0IHRhc2tET00gPSBjcmVhdGVUYXNrRWxlbWVudCh0YXNrTmFtZSk7XG5cbiAgICBjb25zdCBsb2NhdGlvbkRPTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxvY2F0aW9uKTtcbiAgICBsb2NhdGlvbkRPTS5hcHBlbmRDaGlsZCh0YXNrRE9NKTtcbn1cblxuZnVuY3Rpb24gZ2V0Rm9ybUluZm8oKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLWZvcm0nKTtcblxuICAgIGNvbnN0IHRhc2tUaXRsZUluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stdGl0bGUnXTtcbiAgICBjb25zdCB0YXNrRGVzY3JpcHRpb25JbkZvcm0gPSBmb3JtLmVsZW1lbnRzWyd0YXNrLWRlc2NyaXB0aW9uJ107XG4gICAgY29uc3QgdGFza0R1ZURhdGVJbkZvcm0gPSBmb3JtLmVsZW1lbnRzWyd0YXNrLWR1ZS1kYXRlJ107XG4gICAgY29uc3QgdGFza1ByaW9yaXR5SW5Gb3JtID0gZm9ybS5lbGVtZW50c1sndGFzay1wcmlvcml0eSddO1xuICAgIFxuICAgIGxldCB0YXNrVGl0bGUgPSB0YXNrVGl0bGVJbkZvcm0udmFsdWU7XG4gICAgbGV0IHRhc2tEZXNjcmlwdGlvbiA9IHRhc2tEZXNjcmlwdGlvbkluRm9ybS52YWx1ZTtcbiAgICBsZXQgdGFza0R1ZURhdGUgPSB0YXNrRHVlRGF0ZUluRm9ybS52YWx1ZTtcbiAgICBsZXQgdGFza1ByaW9yaXR5ID0gdGFza1ByaW9yaXR5SW5Gb3JtLnZhbHVlO1xuXG4gICAgY29uc29sZS5sb2codGFza1RpdGxlKVxuICAgIGNvbnNvbGUubG9nKCdkb20gd29ya3MnKTtcbiAgICBcbiAgICByZXR1cm4ge3Rhc2tUaXRsZSwgdGFza0Rlc2NyaXB0aW9uLCB0YXNrRHVlRGF0ZSwgdGFza1ByaW9yaXR5fTtcbn0gXG4gICAgXG5cblxuZnVuY3Rpb24gYWRkVGFza1RvRG9tKHRpdGxlLCBkZXNjLCBkYXRlLCBwcmlvcml0eSkge1xuICAgIGNvbnN0IHRlc3REaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1jb250YWluZXInKTtcblxuICAgIHRpdGxlID0gdGFza1RpdGxlO1xuICAgIHRlc3REaXYudGV4dENvbnRlbnQgPSB0aXRsZTtcbn1cblxuXG4vLyBhZGQgZm9sZGVyIGJ1dHRvblxuLy8gLSB3aGVuIGNsaWNrZWQsIGNyZWF0ZSBkaWFsb2cgbW9kYWxcbi8vIC0gZ2V0IGlucHV0IGZyb20gdXNlclxuLy8gLSBzYXZlIGlucHV0IHZhbHVlIHdoZW4gYWRkIGlzIGNsaWNrZWRcbi8vIC0gdXNlIHNhdmVkIHZhbHVlIHRvIGNyZWF0ZSBmb2xkZXIgb24gc2lkZWJhclxuXG5mdW5jdGlvbiBnZXRGb2xkZXJEaWFsb2coKSB7XG4gICAgY29uc3QgZm9sZGVyRGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvbGRlci1kaWFsb2cnKTtcblxuICAgIHJldHVybiBmb2xkZXJEaWFsb2c7XG59XG5cbmZ1bmN0aW9uIHNob3dGb2xkZXJEaWFsb2coKSB7XG4gICAgZ2V0Rm9sZGVyRGlhbG9nKCk7XG4gICAgZm9sZGVyRGlhbG9nLnNob3coKTtcbn1cblxuZnVuY3Rpb24gZ2V0Rm9sZGVyRm9ybUluZm8oKSB7XG4gICAgY29uc3QgZm9sZGVyRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItZm9ybScpO1xuXG4gICAgY29uc3QgZm9sZGVyVGl0bGVJbkZvcm0gPSBmb3JtLmVsZW1lbnRzWydmb2xkZXItdGl0bGUnXTtcblxuICAgIHJldHVybiB7Zm9sZGVyRm9ybSwgZm9sZGVyVGl0bGVJbkZvcm19O1xufVxuXG5mdW5jdGlvbiBhZGRGb2xkZXIodGl0bGVWYWx1ZSkge1xuICAgIGNvbnN0IGZvbGRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIFxufVxuXG5cbmV4cG9ydCB7XG4gICAgZ2V0Rm9ybUluZm8sXG4gICAgYWRkVGFza1RvRG9tLFxuICAgIGNyZWF0ZVRhc2tFbGVtZW50LFxuICAgIGRpc3BsYXlGb2xkZXJUYXNrcyxcbiAgICBhcHBlbmRUYXNrLFxuICAgIGRpc3BsYXlGb2xkZXJzXG59IiwiaW1wb3J0IHtcbiAgICBnZXRGb3JtSW5mbyxcbiAgICBhZGRUYXNrVG9Eb20sXG4gICAgY3JlYXRlVGFza0VsZW1lbnQsXG4gICAgZGlzcGxheUZvbGRlclRhc2tzLFxuICAgIGFwcGVuZFRhc2ssXG4gICAgZGlzcGxheUZvbGRlcnNcbn0gZnJvbSAnLi9tb2R1bGVzL2RvbS5qcyc7XG5cbi8vIEZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGEgdG9kbyB0YXNrXG5mdW5jdGlvbiBUYXNrKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpIHtcblxuICAgIGxldCBjb21wbGV0ZVN0YXRlID0gZmFsc2U7XG5cbiAgICBjb25zdCBnZXRDb21wbGV0ZVN0YXRlID0gKCkgPT4gY29tcGxldGVTdGF0ZTtcblxuICAgIGNvbnN0IHNldENvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICBjb21wbGV0ZVN0YXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgdGl0bGUgPSB0aXRsZS50b1N0cmluZygpO1xuICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24udG9TdHJpbmcoKTtcblxuICAgIGNvbnN0IGNoYW5nZVByaW9yaXR5ID0gKG5ld1ByaW9yaXR5KSA9PiB7XG4gICAgICAgIHByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gICAgfVxuXG4gICAgY29uc3QgZWRpdFRhc2sgPSAobmV3VGl0bGUsIG5ld0Rlc2NyaXB0aW9uLCBuZXdEdWVEYXRlLCBuZXdQcmlvcml0eSkgPT4ge1xuICAgICAgICB0aXRsZSA9IG5ld1RpdGxlO1xuICAgICAgICBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgICAgICBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICAgICAgY2hhbmdlUHJpb3JpdHkobmV3UHJpb3JpdHkpO1xuICAgIH1cblxuICAgIGNvbnN0IHByaW50VGFzayA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFRhc2sgdGl0bGUgLSAke3RpdGxlfSwgRGVzYyAtICR7ZGVzY3JpcHRpb259LCBEYXRlIC0gJHtkdWVEYXRlfSwgUHJpb3JpdHkgLSAke3ByaW9yaXR5fWApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldCB0aXRsZSgpIHtyZXR1cm4gdGl0bGV9LCBcbiAgICAgICAgZ2V0IGRlc2NyaXB0aW9uKCkge3JldHVybiBkZXNjcmlwdGlvbn0sIFxuICAgICAgICBnZXQgZHVlRGF0ZSgpIHtyZXR1cm4gZHVlRGF0ZX0sIFxuICAgICAgICBnZXQgcHJpb3JpdHkoKSB7cmV0dXJuIHByaW9yaXR5fSxcbiAgICAgICAgZ2V0Q29tcGxldGVTdGF0ZSxcbiAgICAgICAgc2V0Q29tcGxldGUsIFxuICAgICAgICBjaGFuZ2VQcmlvcml0eSxcbiAgICAgICAgZWRpdFRhc2ssXG4gICAgICAgIHByaW50VGFza1xuICAgIH07XG59O1xuXG5cbmZ1bmN0aW9uIEZvbGRlcih0aXRsZSkge1xuICAgIGxldCB0YXNrcyA9IFtdO1xuXG4gICAgY29uc3QgYWRkVGFzayA9IChuZXdUYXNrTmFtZSkgPT4ge1xuICAgICAgICB0YXNrcy5wdXNoKG5ld1Rhc2tOYW1lKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXNwbGF5VGFza3MgPSAoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBUYXNrICR7aX0gLSAke3Rhc2tzW2ldLnRpdGxlfSwgJHt0YXNrc1tpXS5kdWVEYXRlfSwgJHt0YXNrc1tpXS5wcmlvcml0eX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZVRhc2sgPSAodGFza05hbWUpID0+IHtcbiAgICAgICAgdGFza3Muc3BsaWNlKHRhc2tOYW1lLCAxKTtcbiAgICB9XG5cbiAgICBcbiAgICByZXR1cm4ge3RpdGxlLCB0YXNrcywgYWRkVGFzaywgZGlzcGxheVRhc2tzLCBkZWxldGVUYXNrfTtcbn1cblxuZnVuY3Rpb24gU3VwZXJGb2xkZXIoKSB7XG4gICAgbGV0IGZvbGRlcnMgPSBbXVxuXG4gICAgY29uc3QgYWRkRm9sZGVyID0gKG5ld0ZvbGRlck5hbWUpID0+IHtcbiAgICAgICAgZm9sZGVycy5wdXNoKG5ld0ZvbGRlck5hbWUpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZUZvbGRlciA9IChmb2xkZXJOYW1lKSA9PiB7XG4gICAgICAgIGZvbGRlcnMuc3BsaWNlKGZvbGRlck5hbWUsIDEpO1xuICAgIH1cblxuICAgIHJldHVybiB7Zm9sZGVycywgYWRkRm9sZGVyLCBkZWxldGVGb2xkZXJ9XG59XG5cbi8vU3VwZXIgRm9sZGVyIFxuY29uc3Qgc3VwZXJGb2xkZXIgPSBTdXBlckZvbGRlcigpO1xuXG4vLyBNYWluIEZvbGRlciB0aGF0IHRhc2tzIHdpbGwgZ28gaW50b1xuY29uc3QgbWFpbkZvbGRlciA9IEZvbGRlcignSW5ib3gnKTtcblxuLy8gVGVzdCB0YXNrc1xuY29uc3QgdGFzazEgPSBUYXNrKCdjaG9yZXMnLCAnd2FzaCBkaXNoZXMnLCAnbm92IDIzJywgJ2hpZ2gnKTtcbmNvbnN0IHRhc2syID0gVGFzaygnbW92aWVzJywgJ2F2YXRhcicsICdub3YgMjknLCAnbWVkJyk7XG5jb25zdCB0YXNrMyA9IFRhc2soJ2NvZGluZycsICd0b2RvIGxpc3QnLCAnZGVjIDEwJywgJ2xvdycpO1xuXG4vLyBUZXN0IGZvbGRlcnNcbmNvbnN0IHByb2oxID0gRm9sZGVyKFwicHJvamVjdCAxXCIpO1xuY29uc3QgcHJvajIgPSBGb2xkZXIoJ3Byb2plY3QgMicpO1xuXG50YXNrMS5lZGl0VGFzaygnbmV3IHRoaW5nJywgJ2Fub3RoZXIgbmV3IHRoaW5nJywgJ25ldyBkYXRlJywgJ0hJR0gnKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLnRhc2tzWzBdLnByaW50VGFzaygpKTtcblxuLy8gVGVzdGluZyBmdW5jdGlvbmFsaXRpZXNcbnByb2oxLmFkZFRhc2sodGFzazEpO1xudGFzazEucHJpbnRUYXNrKCk7XG5wcm9qMS5hZGRUYXNrKHRhc2syKTtcbm1haW5Gb2xkZXIuYWRkVGFzayh0YXNrMyk7XG5tYWluRm9sZGVyLmFkZFRhc2sodGFzazIpO1xubWFpbkZvbGRlci5hZGRUYXNrKHRhc2sxKTtcbm1haW5Gb2xkZXIuZGlzcGxheVRhc2tzKCk7XG5zdXBlckZvbGRlci5hZGRGb2xkZXIobWFpbkZvbGRlcik7XG5jb25zb2xlLmxvZyhzdXBlckZvbGRlcik7XG5cblxuY29uc3QgYWRkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stYWRkLWJ0bicpO1xuY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlcicpO1xuXG5cbmNvbnN0IHRhc2tEaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1kaWFsb2cnKTtcbmNvbnN0IGZvbGRlckRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItZGlhbG9nJyk7XG5cbnRhc2tEaWFsb2cuc2hvdygpO1xuXG5hZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAvLyBUaGlzIHZlcnNpb24gdXNlcyBhcnJheXNcbiAgICAvLyBsZXQgdGFza0RldGFpbHMgPSBnZXRGb3JtSW5mbygpO1xuICAgIC8vIGNvbnN0IHRlc3RUYXNrID0gVGFzayh0YXNrRGV0YWlsc1swXSwgdGFza0RldGFpbHNbMV0sIHRhc2tEZXRhaWxzWzJdLCB0YXNrRGV0YWlsc1szXSk7XG4gICAgY29uc3Qge3Rhc2tUaXRsZSwgdGFza0Rlc2NyaXB0aW9uLCB0YXNrRHVlRGF0ZSwgdGFza1ByaW9yaXR5fSA9IGdldEZvcm1JbmZvKCk7XG5cbiAgICBjb25zdCB0ZXN0VGFzayA9IFRhc2sodGFza1RpdGxlLCB0YXNrRGVzY3JpcHRpb24sIHRhc2tEdWVEYXRlLCB0YXNrUHJpb3JpdHkpO1xuICAgIGNvbnNvbGUubG9nKHRlc3RUYXNrLnByaW50VGFzaygpKTtcbn0pXG5cbmdldEZvcm1JbmZvKCk7XG4vLyBjcmVhdGVUYXNrRWxlbWVudCh0YXNrMSk7XG5kaXNwbGF5Rm9sZGVyVGFza3MobWFpbkZvbGRlcik7XG5kaXNwbGF5Rm9sZGVycyhzdXBlckZvbGRlcik7XG5cbiJdLCJuYW1lcyI6WyJnZXRGb3JtSW5mbyIsImZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGFza1RpdGxlSW5Gb3JtIiwiZWxlbWVudHMiLCJ0YXNrRGVzY3JpcHRpb25JbkZvcm0iLCJ0YXNrRHVlRGF0ZUluRm9ybSIsInRhc2tQcmlvcml0eUluRm9ybSIsInRhc2tUaXRsZSIsInZhbHVlIiwidGFza0Rlc2NyaXB0aW9uIiwidGFza0R1ZURhdGUiLCJ0YXNrUHJpb3JpdHkiLCJjb25zb2xlIiwibG9nIiwiVGFzayIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJjb21wbGV0ZVN0YXRlIiwidG9TdHJpbmciLCJjaGFuZ2VQcmlvcml0eSIsIm5ld1ByaW9yaXR5IiwiZ2V0Q29tcGxldGVTdGF0ZSIsInNldENvbXBsZXRlIiwiZWRpdFRhc2siLCJuZXdUaXRsZSIsIm5ld0Rlc2NyaXB0aW9uIiwibmV3RHVlRGF0ZSIsInByaW50VGFzayIsIkZvbGRlciIsInRhc2tzIiwiYWRkVGFzayIsIm5ld1Rhc2tOYW1lIiwicHVzaCIsImRpc3BsYXlUYXNrcyIsImkiLCJsZW5ndGgiLCJkZWxldGVUYXNrIiwidGFza05hbWUiLCJzcGxpY2UiLCJzdXBlckZvbGRlciIsImZvbGRlcnMiLCJhZGRGb2xkZXIiLCJuZXdGb2xkZXJOYW1lIiwiZGVsZXRlRm9sZGVyIiwiZm9sZGVyTmFtZSIsIlN1cGVyRm9sZGVyIiwibWFpbkZvbGRlciIsInRhc2sxIiwidGFzazIiLCJ0YXNrMyIsInByb2oxIiwiYWRkQnRuIiwidGFza0RpYWxvZyIsInNob3ciLCJhZGRFdmVudExpc3RlbmVyIiwidGVzdFRhc2siLCJmb3JFYWNoIiwidGFzayIsImxvY2F0aW9uIiwidGFza0RPTSIsInRhc2tEaXYiLCJjcmVhdGVFbGVtZW50IiwidGFza1RpdGxlSW5EaXYiLCJ0YXNrRGVzY3JpcHRpb25JbkRpdiIsInRhc2tEdWVEYXRlSW5EaXYiLCJ0YXNrUHJpb3JpdHlJbkRpdiIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUYXNrRWxlbWVudCIsImFwcGVuZFRhc2siLCJmb2xkZXIiLCJmb2xkZXJET00iLCJmb2xkZXJEaXYiLCJmb2xkZXJUaXRsZUluRGl2IiwiY3JlYXRlRm9sZGVyRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRGb2xkZXIiXSwic291cmNlUm9vdCI6IiJ9