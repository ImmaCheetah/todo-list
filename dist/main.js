(()=>{"use strict";function e(e,t,n,o){let d=!1;e=e.toString(),t=t.toString();const l=e=>{o=e};return{get title(){return e},get description(){return t},get dueDate(){return n},get priority(){return o},getCompleteState:()=>d,setComplete:()=>{d=!0},changePriority:l,editTask:(o,d,a,s)=>{e=o,t=d,n=a,l(s)},printTask:()=>{console.log(`Task title - ${e}, Desc - ${t}, Date - ${n}, Priority - ${o}`)}}}function t(e){let t=[];return{title:e,tasks:t,addTask:e=>{t.push(e)},displayTasks:()=>{for(let e=0;e<t.length;e++)console.log(`Task ${e} - ${t[e].title}, ${t[e].dueDate}, ${t[e].priority}`)},deleteTask:e=>{t.splice(e,1)}}}function n(e){const t=document.createElement("div"),n=document.createElement("button");return t.classList.add("folder-div"),n.textContent=e,t.appendChild(n),t}function o(e){let t=n(e);document.querySelector(".sidebar").appendChild(t)}function d(){const e=document.getElementById("main-form"),t=e.elements["task-title"],n=e.elements["task-description"],o=e.elements["task-due-date"],d=e.elements["task-priority"];let l=t.value,a=n.value,s=o.value,i=d.value;return console.log(l),console.log("dom works"),{taskTitle:l,taskDescription:a,taskDueDate:s,taskPriority:i}}const l=function(){let e=[];return{folders:e,addFolder:t=>{e.push(t)},deleteFolder:t=>{e.splice(t,1)}}}(),a=t("Inbox"),s=e("chores","wash dishes","nov 23","high"),i=e("movies","avatar","nov 29","med"),r=e("coding","todo list","dec 10","low"),c=t("project 1");t("project 2"),s.editTask("new thing","another new thing","new date","HIGH"),c.addTask(s),s.printTask(),c.addTask(i),a.addTask(r),a.addTask(i),a.addTask(s),a.displayTasks(),l.addFolder(a),console.log(l);const u=document.getElementById("task-add-btn");document.getElementById("task-dialog").show(),u.addEventListener("click",(function(){const{taskTitle:t,taskDescription:n,taskDueDate:o,taskPriority:l}=d(),a=e(t,n,o,l);console.log(a.printTask())})),d(),a.tasks.forEach((e=>{!function(e,t){let n=function(e){const t=document.createElement("div"),n=document.createElement("p"),o=document.createElement("p"),d=document.createElement("p"),l=document.createElement("p");return t.classList.add("task-div"),n.textContent=e.title,o.textContent=e.description,d.textContent=e.dueDate,l.textContent=e.priority,t.appendChild(n),t.appendChild(o),t.appendChild(d),t.appendChild(l),t}(e);document.getElementById(t).appendChild(n)}(e,["task-container"])})),l.folders.forEach((e=>{o(e)})),document.getElementById("folder-add-btn").addEventListener("click",(function(){document.getElementById("folder-dialog").showModal()})),document.getElementById("folder-confirm-btn").addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("folder-dialog"),{folderTitleInForm:d}=function(){const e=document.getElementById("folder-form");return{folderForm:e,folderTitleInForm:e.elements["folder-title"].value}}();n(d),o(d),t.close()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixTQUFTLFdBRWRwQyxTQUFTWSxlQUFlLGlCQUdoQ3NDLFdBQ2pCLElBRXdCbEQsU0FBU1ksZUFBZSxzQkFJaEN3QixpQkFBaUIsU0FBUyxTQUFTZSxHQUMvQ0EsRUFBRUMsaUJBRUYsTUFBTUMsRUFBZXJELFNBQVNZLGVBQWUsa0JBRXZDLGtCQUFDMEMsR0RPWCxXQUNJLE1BQU1DLEVBQWF2RCxTQUFTWSxlQUFlLGVBSTNDLE1BQU8sQ0FBQzJDLGFBQVlELGtCQUZNQyxFQUFXekMsU0FBUyxnQkFBZ0JLLE1BR2xFLENDYmdDcUMsR0FFNUIzRCxFQUFvQnlELEdBQ3BCL0MsRUFBYStDLEdBRWJELEVBQWFJLE9BQ2pCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvZG9tLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gVGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG5cbiAgICBsZXQgY29tcGxldGVTdGF0ZSA9IGZhbHNlO1xuXG4gICAgY29uc3QgZ2V0Q29tcGxldGVTdGF0ZSA9ICgpID0+IGNvbXBsZXRlU3RhdGU7XG5cbiAgICBjb25zdCBzZXRDb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgY29tcGxldGVTdGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIHRpdGxlID0gdGl0bGUudG9TdHJpbmcoKTtcbiAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnRvU3RyaW5nKCk7XG5cbiAgICBjb25zdCBjaGFuZ2VQcmlvcml0eSA9IChuZXdQcmlvcml0eSkgPT4ge1xuICAgICAgICBwcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIH1cblxuICAgIGNvbnN0IGVkaXRUYXNrID0gKG5ld1RpdGxlLCBuZXdEZXNjcmlwdGlvbiwgbmV3RHVlRGF0ZSwgbmV3UHJpb3JpdHkpID0+IHtcbiAgICAgICAgdGl0bGUgPSBuZXdUaXRsZTtcbiAgICAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgICAgIGNoYW5nZVByaW9yaXR5KG5ld1ByaW9yaXR5KTtcbiAgICB9XG5cbiAgICBjb25zdCBwcmludFRhc2sgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBUYXNrIHRpdGxlIC0gJHt0aXRsZX0sIERlc2MgLSAke2Rlc2NyaXB0aW9ufSwgRGF0ZSAtICR7ZHVlRGF0ZX0sIFByaW9yaXR5IC0gJHtwcmlvcml0eX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgdGl0bGUoKSB7cmV0dXJuIHRpdGxlfSwgXG4gICAgICAgIGdldCBkZXNjcmlwdGlvbigpIHtyZXR1cm4gZGVzY3JpcHRpb259LCBcbiAgICAgICAgZ2V0IGR1ZURhdGUoKSB7cmV0dXJuIGR1ZURhdGV9LCBcbiAgICAgICAgZ2V0IHByaW9yaXR5KCkge3JldHVybiBwcmlvcml0eX0sXG4gICAgICAgIGdldENvbXBsZXRlU3RhdGUsXG4gICAgICAgIHNldENvbXBsZXRlLCBcbiAgICAgICAgY2hhbmdlUHJpb3JpdHksXG4gICAgICAgIGVkaXRUYXNrLFxuICAgICAgICBwcmludFRhc2tcbiAgICB9O1xufTtcblxuXG5leHBvcnQgZnVuY3Rpb24gRm9sZGVyKHRpdGxlKSB7XG4gICAgbGV0IHRhc2tzID0gW107XG5cbiAgICBjb25zdCBhZGRUYXNrID0gKG5ld1Rhc2tOYW1lKSA9PiB7XG4gICAgICAgIHRhc2tzLnB1c2gobmV3VGFza05hbWUpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpc3BsYXlUYXNrcyA9ICgpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFRhc2sgJHtpfSAtICR7dGFza3NbaV0udGl0bGV9LCAke3Rhc2tzW2ldLmR1ZURhdGV9LCAke3Rhc2tzW2ldLnByaW9yaXR5fWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlVGFzayA9ICh0YXNrTmFtZSkgPT4ge1xuICAgICAgICB0YXNrcy5zcGxpY2UodGFza05hbWUsIDEpO1xuICAgIH1cblxuICAgIFxuICAgIHJldHVybiB7dGl0bGUsIHRhc2tzLCBhZGRUYXNrLCBkaXNwbGF5VGFza3MsIGRlbGV0ZVRhc2t9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU3VwZXJGb2xkZXIoKSB7XG4gICAgbGV0IGZvbGRlcnMgPSBbXVxuXG4gICAgY29uc3QgYWRkRm9sZGVyID0gKG5ld0ZvbGRlck5hbWUpID0+IHtcbiAgICAgICAgZm9sZGVycy5wdXNoKG5ld0ZvbGRlck5hbWUpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZUZvbGRlciA9IChmb2xkZXJOYW1lKSA9PiB7XG4gICAgICAgIGZvbGRlcnMuc3BsaWNlKGZvbGRlck5hbWUsIDEpO1xuICAgIH1cblxuICAgIHJldHVybiB7Zm9sZGVycywgYWRkRm9sZGVyLCBkZWxldGVGb2xkZXJ9XG59IiwiLy8gQ3JlYXRlIGFsbCBlbGVtZW50cyBmb3IgZWFjaCB0YXNrIHByb3BlcnR5IGFuZCBjaGFuZ2UgdGV4dCBjb250ZW50IHRvIGNvcnJlc3BvbmRpbmcgdmFsdWVcbi8vIFRoZW4gYWRkIHRoZW0gdG8gYSBtYWluIGRpdiBhbmQgcmV0dXJuXG5mdW5jdGlvbiBjcmVhdGVUYXNrRWxlbWVudCh0YXNrTmFtZSkge1xuICAgIGNvbnN0IHRhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCB0YXNrVGl0bGVJbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0YXNrRGVzY3JpcHRpb25JbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCB0YXNrRHVlRGF0ZUluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRhc2tQcmlvcml0eUluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIFxuICAgIHRhc2tEaXYuY2xhc3NMaXN0LmFkZCgndGFzay1kaXYnKTtcbiAgICB0YXNrVGl0bGVJbkRpdi50ZXh0Q29udGVudCA9IHRhc2tOYW1lLnRpdGxlO1xuICAgIHRhc2tEZXNjcmlwdGlvbkluRGl2LnRleHRDb250ZW50ID0gdGFza05hbWUuZGVzY3JpcHRpb247XG4gICAgdGFza0R1ZURhdGVJbkRpdi50ZXh0Q29udGVudCA9IHRhc2tOYW1lLmR1ZURhdGU7XG4gICAgdGFza1ByaW9yaXR5SW5EaXYudGV4dENvbnRlbnQgPSB0YXNrTmFtZS5wcmlvcml0eTtcbiAgICBcbiAgICB0YXNrRGl2LmFwcGVuZENoaWxkKHRhc2tUaXRsZUluRGl2KTtcbiAgICB0YXNrRGl2LmFwcGVuZENoaWxkKHRhc2tEZXNjcmlwdGlvbkluRGl2KTtcbiAgICB0YXNrRGl2LmFwcGVuZENoaWxkKHRhc2tEdWVEYXRlSW5EaXYpO1xuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza1ByaW9yaXR5SW5EaXYpO1xuICAgIFxuICAgIHJldHVybiB0YXNrRGl2O1xufVxuXG4vLyBUYWtlIGluIHRhc2sgYW5kIHdoZXJlIHRvIGFwcGVuZFxuLy8gQ3JlYXRlIHRoZSB0YXNrIHVzaW5nIGNyZWF0ZVRhc2tFbGVtZW50IGFuZCBhc3NpZ24gdG8gdmFyaWFibGVcbi8vIFRhcmdldCBlbGVtZW50IHRvIGFwcGVuZCB0byBhbmQgYXBwZW5kXG5mdW5jdGlvbiBhcHBlbmRUYXNrKHRhc2tOYW1lLCBsb2NhdGlvbikge1xuICAgIGxldCB0YXNrRE9NID0gY3JlYXRlVGFza0VsZW1lbnQodGFza05hbWUpO1xuXG4gICAgY29uc3QgbG9jYXRpb25ET00gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsb2NhdGlvbik7XG4gICAgbG9jYXRpb25ET00uYXBwZW5kQ2hpbGQodGFza0RPTSk7XG59XG5cbi8vIFRha2UgaW4gZm9sZGVyIG5hbWUgdGhlbiBsb29wIHRocm91Z2ggdGFza3MgaW5zaWRlIGZvbGRlciB0byBhcHBlbmQgdG8gc2NyZWVuXG5mdW5jdGlvbiBkaXNwbGF5Rm9sZGVyVGFza3MoZm9sZGVyTmFtZSkge1xuICAgIGZvbGRlck5hbWUudGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgYXBwZW5kVGFzayh0YXNrLCBbJ3Rhc2stY29udGFpbmVyJ10pO1xuICAgIH0pO1xufVxuXG4vLyBDcmVhdGUgYnV0dG9uIHRvIGhvbGQgZm9sZGVyIGFuZCB0aXRsZVxuLy8gQWRkIHRpdGxlIHRvIGRpdiBhbmQgcmV0dXJuXG5mdW5jdGlvbiBjcmVhdGVGb2xkZXJFbGVtZW50KGZvbGRlck5hbWUpIHtcbiAgICBjb25zdCBmb2xkZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBmb2xkZXJUaXRsZUluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBmb2xkZXJEaXYuY2xhc3NMaXN0LmFkZCgnZm9sZGVyLWRpdicpO1xuICAgIGZvbGRlclRpdGxlSW5EaXYudGV4dENvbnRlbnQgPSBmb2xkZXJOYW1lO1xuXG4gICAgZm9sZGVyRGl2LmFwcGVuZENoaWxkKGZvbGRlclRpdGxlSW5EaXYpO1xuXG4gICAgcmV0dXJuIGZvbGRlckRpdjtcbn1cblxuLy8gVGFrZSBpbiBmb2xkZXIgbmFtZSBhbmQgY3JlYXRlIGZvbGRlciB1c2luZyBmdW5jdGlvblxuLy8gQXBwZW5kIHRvIHNpZGViYXJcbmZ1bmN0aW9uIGFwcGVuZEZvbGRlcihmb2xkZXJOYW1lKSB7XG4gICAgbGV0IGZvbGRlckRPTSA9IGNyZWF0ZUZvbGRlckVsZW1lbnQoZm9sZGVyTmFtZSk7XG5cbiAgICBjb25zdCBzaWRlYmFyRm9sZGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7XG4gICAgc2lkZWJhckZvbGRlcnMuYXBwZW5kQ2hpbGQoZm9sZGVyRE9NKTtcbn1cblxuLy8gVGFrZSBpbiBzdXBlciBmb2xkZXIgbmFtZSB0byBsb29wIHRocm91Z2ggZWFjaCBmb2xkZXIgYW5kIGFwcGVuZCB0byBzaWRlYmFyXG5mdW5jdGlvbiBkaXNwbGF5Rm9sZGVycyhzdXBlckZvbGRlck5hbWUpIHtcbiAgICBzdXBlckZvbGRlck5hbWUuZm9sZGVycy5mb3JFYWNoKGZvbGRlciA9PiB7XG4gICAgICAgIGFwcGVuZEZvbGRlcihmb2xkZXIpO1xuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGdldEZvcm1JbmZvKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1mb3JtJyk7XG5cbiAgICBjb25zdCB0YXNrVGl0bGVJbkZvcm0gPSBmb3JtLmVsZW1lbnRzWyd0YXNrLXRpdGxlJ107XG4gICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uSW5Gb3JtID0gZm9ybS5lbGVtZW50c1sndGFzay1kZXNjcmlwdGlvbiddO1xuICAgIGNvbnN0IHRhc2tEdWVEYXRlSW5Gb3JtID0gZm9ybS5lbGVtZW50c1sndGFzay1kdWUtZGF0ZSddO1xuICAgIGNvbnN0IHRhc2tQcmlvcml0eUluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stcHJpb3JpdHknXTtcbiAgICBcbiAgICBsZXQgdGFza1RpdGxlID0gdGFza1RpdGxlSW5Gb3JtLnZhbHVlO1xuICAgIGxldCB0YXNrRGVzY3JpcHRpb24gPSB0YXNrRGVzY3JpcHRpb25JbkZvcm0udmFsdWU7XG4gICAgbGV0IHRhc2tEdWVEYXRlID0gdGFza0R1ZURhdGVJbkZvcm0udmFsdWU7XG4gICAgbGV0IHRhc2tQcmlvcml0eSA9IHRhc2tQcmlvcml0eUluRm9ybS52YWx1ZTtcblxuICAgIGNvbnNvbGUubG9nKHRhc2tUaXRsZSlcbiAgICBjb25zb2xlLmxvZygnZG9tIHdvcmtzJyk7XG4gICAgXG4gICAgcmV0dXJuIHt0YXNrVGl0bGUsIHRhc2tEZXNjcmlwdGlvbiwgdGFza0R1ZURhdGUsIHRhc2tQcmlvcml0eX07XG59IFxuICAgIFxuLy8gYWRkIGZvbGRlciBidXR0b25cbi8vIC0gd2hlbiBjbGlja2VkLCBjcmVhdGUgZGlhbG9nIG1vZGFsXG4vLyAtIGdldCBpbnB1dCBmcm9tIHVzZXJcbi8vIC0gc2F2ZSBpbnB1dCB2YWx1ZSB3aGVuIGFkZCBpcyBjbGlja2VkXG4vLyAtIHVzZSBzYXZlZCB2YWx1ZSB0byBjcmVhdGUgZm9sZGVyIG9uIHNpZGViYXJcblxuXG5mdW5jdGlvbiBnZXRGb2xkZXJGb3JtSW5mbygpIHtcbiAgICBjb25zdCBmb2xkZXJGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvbGRlci1mb3JtJyk7XG5cbiAgICBjb25zdCBmb2xkZXJUaXRsZUluRm9ybSA9IGZvbGRlckZvcm0uZWxlbWVudHNbJ2ZvbGRlci10aXRsZSddLnZhbHVlO1xuXG4gICAgcmV0dXJuIHtmb2xkZXJGb3JtLCBmb2xkZXJUaXRsZUluRm9ybX07XG59XG5cbmZ1bmN0aW9uIGFkZEZvbGRlcih0aXRsZVZhbHVlKSB7XG4gICAgY29uc3QgZm9sZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG59XG5cblxuZXhwb3J0IHtcbiAgICBnZXRGb3JtSW5mbyxcbiAgICBnZXRGb2xkZXJGb3JtSW5mbyxcbiAgICBjcmVhdGVUYXNrRWxlbWVudCxcbiAgICBjcmVhdGVGb2xkZXJFbGVtZW50LFxuICAgIGFwcGVuZEZvbGRlcixcbiAgICBkaXNwbGF5Rm9sZGVyVGFza3MsXG4gICAgYXBwZW5kVGFzayxcbiAgICBkaXNwbGF5Rm9sZGVyc1xufSIsIlxuaW1wb3J0IHtcbiAgICBUYXNrLFxuICAgIEZvbGRlcixcbiAgICBTdXBlckZvbGRlclxufSBmcm9tICcuL21vZHVsZXMvZmFjdG9yaWVzLmpzJztcblxuaW1wb3J0IHtcbiAgICBnZXRGb3JtSW5mbyxcbiAgICBnZXRGb2xkZXJEaWFsb2csXG4gICAgZ2V0Rm9sZGVyRm9ybUluZm8sXG4gICAgY3JlYXRlVGFza0VsZW1lbnQsXG4gICAgY3JlYXRlRm9sZGVyRWxlbWVudCxcbiAgICBhcHBlbmRGb2xkZXIsXG4gICAgZGlzcGxheUZvbGRlclRhc2tzLFxuICAgIGFwcGVuZFRhc2ssXG4gICAgZGlzcGxheUZvbGRlcnNcbn0gZnJvbSAnLi9tb2R1bGVzL2RvbS5qcyc7XG5cblxuLy9TdXBlciBGb2xkZXIgXG5jb25zdCBzdXBlckZvbGRlciA9IFN1cGVyRm9sZGVyKCk7XG5cbi8vIE1haW4gRm9sZGVyIHRoYXQgdGFza3Mgd2lsbCBnbyBpbnRvXG5jb25zdCBpbmJveEZvbGRlciA9IEZvbGRlcignSW5ib3gnKTtcblxuLy8gVGVzdCB0YXNrc1xuY29uc3QgdGFzazEgPSBUYXNrKCdjaG9yZXMnLCAnd2FzaCBkaXNoZXMnLCAnbm92IDIzJywgJ2hpZ2gnKTtcbmNvbnN0IHRhc2syID0gVGFzaygnbW92aWVzJywgJ2F2YXRhcicsICdub3YgMjknLCAnbWVkJyk7XG5jb25zdCB0YXNrMyA9IFRhc2soJ2NvZGluZycsICd0b2RvIGxpc3QnLCAnZGVjIDEwJywgJ2xvdycpO1xuXG4vLyBUZXN0IGZvbGRlcnNcbmNvbnN0IHByb2oxID0gRm9sZGVyKFwicHJvamVjdCAxXCIpO1xuY29uc3QgcHJvajIgPSBGb2xkZXIoJ3Byb2plY3QgMicpO1xuXG50YXNrMS5lZGl0VGFzaygnbmV3IHRoaW5nJywgJ2Fub3RoZXIgbmV3IHRoaW5nJywgJ25ldyBkYXRlJywgJ0hJR0gnKTtcbi8vIGNvbnNvbGUubG9nKHByb2oxLnRhc2tzWzBdLnByaW50VGFzaygpKTtcblxuLy8gVGVzdGluZyBmdW5jdGlvbmFsaXRpZXNcbnByb2oxLmFkZFRhc2sodGFzazEpO1xudGFzazEucHJpbnRUYXNrKCk7XG5wcm9qMS5hZGRUYXNrKHRhc2syKTtcbmluYm94Rm9sZGVyLmFkZFRhc2sodGFzazMpO1xuaW5ib3hGb2xkZXIuYWRkVGFzayh0YXNrMik7XG5pbmJveEZvbGRlci5hZGRUYXNrKHRhc2sxKTtcbmluYm94Rm9sZGVyLmRpc3BsYXlUYXNrcygpO1xuc3VwZXJGb2xkZXIuYWRkRm9sZGVyKGluYm94Rm9sZGVyKTtcbmNvbnNvbGUubG9nKHN1cGVyRm9sZGVyKTtcblxuXG5jb25zdCBhZGRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1hZGQtYnRuJyk7XG5cbmNvbnN0IHRhc2tEaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1kaWFsb2cnKTtcblxudGFza0RpYWxvZy5zaG93KCk7XG5cbmFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIC8vIFRoaXMgdmVyc2lvbiB1c2VzIGFycmF5c1xuICAgIC8vIGxldCB0YXNrRGV0YWlscyA9IGdldEZvcm1JbmZvKCk7XG4gICAgLy8gY29uc3QgdGVzdFRhc2sgPSBUYXNrKHRhc2tEZXRhaWxzWzBdLCB0YXNrRGV0YWlsc1sxXSwgdGFza0RldGFpbHNbMl0sIHRhc2tEZXRhaWxzWzNdKTtcbiAgICBjb25zdCB7dGFza1RpdGxlLCB0YXNrRGVzY3JpcHRpb24sIHRhc2tEdWVEYXRlLCB0YXNrUHJpb3JpdHl9ID0gZ2V0Rm9ybUluZm8oKTtcblxuICAgIGNvbnN0IHRlc3RUYXNrID0gVGFzayh0YXNrVGl0bGUsIHRhc2tEZXNjcmlwdGlvbiwgdGFza0R1ZURhdGUsIHRhc2tQcmlvcml0eSk7XG4gICAgY29uc29sZS5sb2codGVzdFRhc2sucHJpbnRUYXNrKCkpO1xufSlcblxuZ2V0Rm9ybUluZm8oKTtcbi8vIGNyZWF0ZVRhc2tFbGVtZW50KHRhc2sxKTtcbmRpc3BsYXlGb2xkZXJUYXNrcyhpbmJveEZvbGRlcik7XG5kaXNwbGF5Rm9sZGVycyhzdXBlckZvbGRlcik7XG5cbmNvbnN0IGFkZEZvbGRlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItYWRkLWJ0bicpO1xuXG5hZGRGb2xkZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBcbiAgICBjb25zdCBmb2xkZXJEaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9sZGVyLWRpYWxvZycpO1xuICAgIC8vIGdldEZvbGRlckRpYWxvZygpO1xuICAgIC8vdXNlIHNob3dNb2RhbCgpXG4gICAgZm9sZGVyRGlhbG9nLnNob3dNb2RhbCgpO1xufSk7XG5cbmNvbnN0IGZvbGRlclN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItY29uZmlybS1idG4nKTtcblxuLy8gRXZlbnQgbGlzdGVuZXIgdG8gc3VibWl0IGZvbGRlciBmb3JtXG4vLyBTaG91bGQgYmUgZG9uZSBvbiB0aGUgZm9ybSBpbnN0ZWFkIG9mIGJ1dHRvbiBidXQgTUROIGV4YW1wbGUgd2l0aCBkaWFsb2cgZGlkIGl0IHRoaXMgd2F5XG5mb2xkZXJTdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgIGNvbnN0IGZvbGRlckRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItZGlhbG9nJyk7XG4gICAgXG4gICAgY29uc3Qge2ZvbGRlclRpdGxlSW5Gb3JtfSA9IGdldEZvbGRlckZvcm1JbmZvKCk7XG5cbiAgICBjcmVhdGVGb2xkZXJFbGVtZW50KGZvbGRlclRpdGxlSW5Gb3JtKTtcbiAgICBhcHBlbmRGb2xkZXIoZm9sZGVyVGl0bGVJbkZvcm0pO1xuXG4gICAgZm9sZGVyRGlhbG9nLmNsb3NlKCk7XG59KTtcbiJdLCJuYW1lcyI6WyJUYXNrIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsImNvbXBsZXRlU3RhdGUiLCJ0b1N0cmluZyIsImNoYW5nZVByaW9yaXR5IiwibmV3UHJpb3JpdHkiLCJnZXRDb21wbGV0ZVN0YXRlIiwic2V0Q29tcGxldGUiLCJlZGl0VGFzayIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwicHJpbnRUYXNrIiwiY29uc29sZSIsImxvZyIsIkZvbGRlciIsInRhc2tzIiwiYWRkVGFzayIsIm5ld1Rhc2tOYW1lIiwicHVzaCIsImRpc3BsYXlUYXNrcyIsImkiLCJsZW5ndGgiLCJkZWxldGVUYXNrIiwidGFza05hbWUiLCJzcGxpY2UiLCJjcmVhdGVGb2xkZXJFbGVtZW50IiwiZm9sZGVyTmFtZSIsImZvbGRlckRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImZvbGRlclRpdGxlSW5EaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiYXBwZW5kRm9sZGVyIiwiZm9sZGVyRE9NIiwicXVlcnlTZWxlY3RvciIsImdldEZvcm1JbmZvIiwiZm9ybSIsImdldEVsZW1lbnRCeUlkIiwidGFza1RpdGxlSW5Gb3JtIiwiZWxlbWVudHMiLCJ0YXNrRGVzY3JpcHRpb25JbkZvcm0iLCJ0YXNrRHVlRGF0ZUluRm9ybSIsInRhc2tQcmlvcml0eUluRm9ybSIsInRhc2tUaXRsZSIsInZhbHVlIiwidGFza0Rlc2NyaXB0aW9uIiwidGFza0R1ZURhdGUiLCJ0YXNrUHJpb3JpdHkiLCJzdXBlckZvbGRlciIsImZvbGRlcnMiLCJhZGRGb2xkZXIiLCJuZXdGb2xkZXJOYW1lIiwiZGVsZXRlRm9sZGVyIiwiU3VwZXJGb2xkZXIiLCJpbmJveEZvbGRlciIsInRhc2sxIiwidGFzazIiLCJ0YXNrMyIsInByb2oxIiwiYWRkQnRuIiwic2hvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0ZXN0VGFzayIsImZvckVhY2giLCJ0YXNrIiwibG9jYXRpb24iLCJ0YXNrRE9NIiwidGFza0RpdiIsInRhc2tUaXRsZUluRGl2IiwidGFza0Rlc2NyaXB0aW9uSW5EaXYiLCJ0YXNrRHVlRGF0ZUluRGl2IiwidGFza1ByaW9yaXR5SW5EaXYiLCJjcmVhdGVUYXNrRWxlbWVudCIsImFwcGVuZFRhc2siLCJmb2xkZXIiLCJzaG93TW9kYWwiLCJlIiwicHJldmVudERlZmF1bHQiLCJmb2xkZXJEaWFsb2ciLCJmb2xkZXJUaXRsZUluRm9ybSIsImZvbGRlckZvcm0iLCJnZXRGb2xkZXJGb3JtSW5mbyIsImNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==