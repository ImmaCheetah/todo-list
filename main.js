(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const n=new Uint8Array(16);function o(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(n)}const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));const r=function(t,n,r){if(e.randomUUID&&!n&&!t)return e.randomUUID();const l=(t=t||{}).random||(t.rng||o)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,n){r=r||0;for(let e=0;e<16;++e)n[r+e]=l[e];return n}return function(e,t=0){return d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]}(l)};function l(e,t,n,o){let d=!1;e=e.toString(),t=t.toString();const r=e=>{o=e};return{get title(){return e},get description(){return t},get dueDate(){return n},get priority(){return o},getCompleteState:()=>d,setComplete:()=>{d=!0},changePriority:r,editTask:(o,d,l,s)=>{e=o,t=d,n=l,r(s)},printTask:()=>{console.log(`Task title - ${e}, Desc - ${t}, Date - ${n}, Priority - ${o}`)}}}function s(e){let t=r(),n=[];return{title:e,tasks:n,myuuid:t,addTask:e=>{n.push(e)},displayTasks:()=>{for(let e=0;e<n.length;e++)console.log(`Task ${e} - ${n[e].title}, ${n[e].dueDate}, ${n[e].priority}`)},deleteTask:e=>{n.splice(e,1)}}}function a(){const e=document.getElementById("main-form"),t=e.elements["task-title"],n=e.elements["task-description"],o=e.elements["task-due-date"],d=e.elements["task-priority"];let r=t.value,l=n.value,s=o.value,a=d.value;return console.log(r),console.log("dom works"),{taskTitle:r,taskDescription:l,taskDueDate:s,taskPriority:a}}const i=function(){let e=[];return{folders:e,addFolder:t=>{e.push(t)},deleteFolder:t=>{e.splice(t,1)}}}(),c=s("Inbox");console.log(c.myuuid);const u=l("chores","wash dishes","nov 23","high"),m=l("movies","avatar","nov 29","med"),p=l("coding","todo list","dec 10","low"),f=s("project 1");s("project 2"),u.editTask("new thing","another new thing","new date","HIGH"),f.addTask(u),u.printTask(),f.addTask(m),c.addTask(p),c.addTask(m),c.addTask(u),c.displayTasks(),i.addFolder(c),console.log(i);const g=document.getElementById("task-add-btn");document.getElementById("task-dialog").show(),g.addEventListener("click",(function(){const{taskTitle:e,taskDescription:t,taskDueDate:n,taskPriority:o}=a(),d=l(e,t,n,o);console.log(d.printTask())})),a(),c.tasks.forEach((e=>{!function(e,t){let n=function(e){const t=document.createElement("div"),n=document.createElement("p"),o=document.createElement("p"),d=document.createElement("p"),r=document.createElement("p");return t.classList.add("task-div"),n.textContent=e.title,o.textContent=e.description,d.textContent=e.dueDate,r.textContent=e.priority,t.appendChild(n),t.appendChild(o),t.appendChild(d),t.appendChild(r),t}(e);document.getElementById(t).appendChild(n)}(e,["task-container"])})),document.getElementById("folder-add-btn").addEventListener("click",(function(){document.getElementById("folder-dialog").showModal()})),document.getElementById("folder-confirm-btn").addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById("folder-dialog"),{folderTitleInForm:n}=function(){const e=document.getElementById("folder-form");return{folderForm:e,folderTitleInForm:e.elements["folder-title"].value}}();!function(e){let t=function(e){const t=document.querySelector(".folders-div"),n=document.createElement("button");return n.classList.add("folder-button"),n.textContent=e,t.appendChild(n),t}(e);document.querySelector(".sidebar").appendChild(t)}(n);let o=s(n);i.addFolder(o),console.log(i.folders),t.close()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWUsaUJBR2hDMkMsV0FDakIsSUFFd0I1QyxTQUFTQyxlQUFlLHNCQUloQ3lCLGlCQUFpQixTQUFTLFNBQVNtQixHQUMvQ0EsRUFBRUMsaUJBRUYsTUFBTUMsRUFBZS9DLFNBQVNDLGVBQWUsa0JBRXZDLGtCQUFDK0MsR0RlWCxXQUNJLE1BQU1DLEVBQWFqRCxTQUFTQyxlQUFlLGVBSTNDLE1BQU8sQ0FBQ2dELGFBQVlELGtCQUZNQyxFQUFXOUMsU0FBUyxnQkFBZ0JLLE1BR2xFLENDckJnQzBDLElEaENoQyxTQUFzQmpDLEdBQ2xCLElBQUlrQyxFQWhCUixTQUE2QmxDLEdBQ3pCLE1BQU1tQyxFQUFZcEQsU0FBU3FELGNBQWMsZ0JBQ25DQyxFQUFjdEQsU0FBU2lDLGNBQWMsVUFRM0MsT0FMQXFCLEVBQVloQixVQUFVQyxJQUFJLGlCQUMxQmUsRUFBWWQsWUFBY3ZCLEVBRTFCbUMsRUFBVVgsWUFBWWEsR0FFZkYsQ0FDWCxDQUtvQkcsQ0FBb0J0QyxHQUViakIsU0FBU3FELGNBQWMsWUFDL0JaLFlBQVlVLEVBQy9CLENDOEJJSyxDQUFhUixHQUViLElBQUlTLEVBQVlyRSxFQUFPNEQsR0FDdkJwQyxFQUFZRSxVQUFVMkMsR0FFdEJ2RSxRQUFRQyxJQUFJeUIsRUFBWUMsU0FFeEJrQyxFQUFhVyxPQUNqQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uYXRpdmUuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvZG9tLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByYW5kb21VVUlEID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLnJhbmRvbVVVSUQgJiYgY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pO1xuZXhwb3J0IGRlZmF1bHQge1xuICByYW5kb21VVUlEXG59OyIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxubGV0IGdldFJhbmRvbVZhbHVlcztcbmNvbnN0IHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV07XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiaW1wb3J0IG5hdGl2ZSBmcm9tICcuL25hdGl2ZS5qcyc7XG5pbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKG5hdGl2ZS5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiaW1wb3J0IHt2NCBhcyB1dWlkdjR9IGZyb20gJ3V1aWQnO1xuXG5leHBvcnQgZnVuY3Rpb24gVGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG5cbiAgICBsZXQgY29tcGxldGVTdGF0ZSA9IGZhbHNlO1xuXG4gICAgY29uc3QgZ2V0Q29tcGxldGVTdGF0ZSA9ICgpID0+IGNvbXBsZXRlU3RhdGU7XG5cbiAgICBjb25zdCBzZXRDb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgY29tcGxldGVTdGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIHRpdGxlID0gdGl0bGUudG9TdHJpbmcoKTtcbiAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnRvU3RyaW5nKCk7XG5cbiAgICBjb25zdCBjaGFuZ2VQcmlvcml0eSA9IChuZXdQcmlvcml0eSkgPT4ge1xuICAgICAgICBwcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIH1cblxuICAgIGNvbnN0IGVkaXRUYXNrID0gKG5ld1RpdGxlLCBuZXdEZXNjcmlwdGlvbiwgbmV3RHVlRGF0ZSwgbmV3UHJpb3JpdHkpID0+IHtcbiAgICAgICAgdGl0bGUgPSBuZXdUaXRsZTtcbiAgICAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgICAgIGNoYW5nZVByaW9yaXR5KG5ld1ByaW9yaXR5KTtcbiAgICB9XG5cbiAgICBjb25zdCBwcmludFRhc2sgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBUYXNrIHRpdGxlIC0gJHt0aXRsZX0sIERlc2MgLSAke2Rlc2NyaXB0aW9ufSwgRGF0ZSAtICR7ZHVlRGF0ZX0sIFByaW9yaXR5IC0gJHtwcmlvcml0eX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgdGl0bGUoKSB7cmV0dXJuIHRpdGxlfSwgXG4gICAgICAgIGdldCBkZXNjcmlwdGlvbigpIHtyZXR1cm4gZGVzY3JpcHRpb259LCBcbiAgICAgICAgZ2V0IGR1ZURhdGUoKSB7cmV0dXJuIGR1ZURhdGV9LCBcbiAgICAgICAgZ2V0IHByaW9yaXR5KCkge3JldHVybiBwcmlvcml0eX0sXG4gICAgICAgIGdldENvbXBsZXRlU3RhdGUsXG4gICAgICAgIHNldENvbXBsZXRlLCBcbiAgICAgICAgY2hhbmdlUHJpb3JpdHksXG4gICAgICAgIGVkaXRUYXNrLFxuICAgICAgICBwcmludFRhc2tcbiAgICB9O1xufTtcblxuXG5leHBvcnQgZnVuY3Rpb24gRm9sZGVyKHRpdGxlKSB7XG4gICAgXG5cbiAgICBsZXQgbXl1dWlkID0gdXVpZHY0KCk7XG4gICAgbGV0IHRhc2tzID0gW107XG5cbiAgICBjb25zdCBhZGRUYXNrID0gKG5ld1Rhc2tOYW1lKSA9PiB7XG4gICAgICAgIHRhc2tzLnB1c2gobmV3VGFza05hbWUpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpc3BsYXlUYXNrcyA9ICgpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFRhc2sgJHtpfSAtICR7dGFza3NbaV0udGl0bGV9LCAke3Rhc2tzW2ldLmR1ZURhdGV9LCAke3Rhc2tzW2ldLnByaW9yaXR5fWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlVGFzayA9ICh0YXNrTmFtZSkgPT4ge1xuICAgICAgICB0YXNrcy5zcGxpY2UodGFza05hbWUsIDEpO1xuICAgIH1cblxuICAgIFxuICAgIHJldHVybiB7dGl0bGUsIHRhc2tzLCBteXV1aWQsIGFkZFRhc2ssIGRpc3BsYXlUYXNrcywgZGVsZXRlVGFza307XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTdXBlckZvbGRlcigpIHtcbiAgICBsZXQgZm9sZGVycyA9IFtdXG5cbiAgICBjb25zdCBhZGRGb2xkZXIgPSAobmV3Rm9sZGVyTmFtZSkgPT4ge1xuICAgICAgICBmb2xkZXJzLnB1c2gobmV3Rm9sZGVyTmFtZSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlRm9sZGVyID0gKGZvbGRlck5hbWUpID0+IHtcbiAgICAgICAgZm9sZGVycy5zcGxpY2UoZm9sZGVyTmFtZSwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtmb2xkZXJzLCBhZGRGb2xkZXIsIGRlbGV0ZUZvbGRlcn1cbn0iLCIvLyBDcmVhdGUgYWxsIGVsZW1lbnRzIGZvciBlYWNoIHRhc2sgcHJvcGVydHkgYW5kIGNoYW5nZSB0ZXh0IGNvbnRlbnQgdG8gY29ycmVzcG9uZGluZyB2YWx1ZVxuLy8gVGhlbiBhZGQgdGhlbSB0byBhIG1haW4gZGl2IGFuZCByZXR1cm5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2tFbGVtZW50KHRhc2tOYW1lKSB7XG4gICAgY29uc3QgdGFza0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHRhc2tUaXRsZUluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbkluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHRhc2tEdWVEYXRlSW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgdGFza1ByaW9yaXR5SW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgXG4gICAgdGFza0Rpdi5jbGFzc0xpc3QuYWRkKCd0YXNrLWRpdicpO1xuICAgIHRhc2tUaXRsZUluRGl2LnRleHRDb250ZW50ID0gdGFza05hbWUudGl0bGU7XG4gICAgdGFza0Rlc2NyaXB0aW9uSW5EaXYudGV4dENvbnRlbnQgPSB0YXNrTmFtZS5kZXNjcmlwdGlvbjtcbiAgICB0YXNrRHVlRGF0ZUluRGl2LnRleHRDb250ZW50ID0gdGFza05hbWUuZHVlRGF0ZTtcbiAgICB0YXNrUHJpb3JpdHlJbkRpdi50ZXh0Q29udGVudCA9IHRhc2tOYW1lLnByaW9yaXR5O1xuICAgIFxuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza1RpdGxlSW5EaXYpO1xuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0Rlc2NyaXB0aW9uSW5EaXYpO1xuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0R1ZURhdGVJbkRpdik7XG4gICAgdGFza0Rpdi5hcHBlbmRDaGlsZCh0YXNrUHJpb3JpdHlJbkRpdik7XG4gICAgXG4gICAgcmV0dXJuIHRhc2tEaXY7XG59XG5cbi8vIFRha2UgaW4gdGFzayBhbmQgd2hlcmUgdG8gYXBwZW5kXG4vLyBDcmVhdGUgdGhlIHRhc2sgdXNpbmcgY3JlYXRlVGFza0VsZW1lbnQgYW5kIGFzc2lnbiB0byB2YXJpYWJsZVxuLy8gVGFyZ2V0IGVsZW1lbnQgdG8gYXBwZW5kIHRvIGFuZCBhcHBlbmRcbmZ1bmN0aW9uIGFwcGVuZFRhc2sodGFza05hbWUsIGxvY2F0aW9uKSB7XG4gICAgbGV0IHRhc2tET00gPSBjcmVhdGVUYXNrRWxlbWVudCh0YXNrTmFtZSk7XG5cbiAgICBjb25zdCBsb2NhdGlvbkRPTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxvY2F0aW9uKTtcbiAgICBsb2NhdGlvbkRPTS5hcHBlbmRDaGlsZCh0YXNrRE9NKTtcbn1cblxuLy8gVGFrZSBpbiBmb2xkZXIgbmFtZSB0aGVuIGxvb3AgdGhyb3VnaCB0YXNrcyBpbnNpZGUgZm9sZGVyIHRvIGFwcGVuZCB0byBzY3JlZW5cbmZ1bmN0aW9uIGRpc3BsYXlGb2xkZXJUYXNrcyhmb2xkZXJOYW1lKSB7XG4gICAgZm9sZGVyTmFtZS50YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBhcHBlbmRUYXNrKHRhc2ssIFsndGFzay1jb250YWluZXInXSk7XG4gICAgfSk7XG59XG5cbi8vIENyZWF0ZSBidXR0b24gdG8gaG9sZCBmb2xkZXIgYW5kIHRpdGxlXG4vLyBBZGQgdGl0bGUgdG8gZGl2IGFuZCByZXR1cm5cbmZ1bmN0aW9uIGNyZWF0ZUZvbGRlckVsZW1lbnQoZm9sZGVyTmFtZSkge1xuICAgIGNvbnN0IGZvbGRlckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb2xkZXJzLWRpdicpO1xuICAgIGNvbnN0IGZvbGRlclRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAvLyBmb2xkZXJEaXYuY2xhc3NMaXN0LmFkZCgnZm9sZGVyLWRpdicpO1xuICAgIGZvbGRlclRpdGxlLmNsYXNzTGlzdC5hZGQoJ2ZvbGRlci1idXR0b24nKTtcbiAgICBmb2xkZXJUaXRsZS50ZXh0Q29udGVudCA9IGZvbGRlck5hbWU7XG5cbiAgICBmb2xkZXJEaXYuYXBwZW5kQ2hpbGQoZm9sZGVyVGl0bGUpO1xuXG4gICAgcmV0dXJuIGZvbGRlckRpdjtcbn1cblxuLy8gVGFrZSBpbiBmb2xkZXIgbmFtZSBhbmQgY3JlYXRlIGZvbGRlciB1c2luZyBmdW5jdGlvblxuLy8gQXBwZW5kIHRvIHNpZGViYXJcbmZ1bmN0aW9uIGFwcGVuZEZvbGRlcihmb2xkZXJOYW1lKSB7XG4gICAgbGV0IGZvbGRlckRPTSA9IGNyZWF0ZUZvbGRlckVsZW1lbnQoZm9sZGVyTmFtZSk7XG5cbiAgICBjb25zdCBzaWRlYmFyRm9sZGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7XG4gICAgc2lkZWJhckZvbGRlcnMuYXBwZW5kQ2hpbGQoZm9sZGVyRE9NKTtcbn1cblxuLy8gVGFrZSBpbiBzdXBlciBmb2xkZXIgbmFtZSB0byBsb29wIHRocm91Z2ggZWFjaCBmb2xkZXIgYW5kIGFwcGVuZCB0byBzaWRlYmFyXG5mdW5jdGlvbiBkaXNwbGF5Rm9sZGVycyhzdXBlckZvbGRlck5hbWUpIHtcbiAgICAvLyBjbGVhclNpZGViYXIoKTtcbiAgICBzdXBlckZvbGRlck5hbWUuZm9sZGVycy5mb3JFYWNoKGZvbGRlciA9PiB7XG4gICAgICAgIGFwcGVuZEZvbGRlcihmb2xkZXIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhclNpZGViYXIoKSB7XG4gICAgY29uc3QgZm9sZGVyc0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb2xkZXJzLWRpdicpO1xuICAgIGZvbGRlcnNEaXYudGV4dENvbnRlbnQgPSAnJztcbn1cblxuXG5mdW5jdGlvbiBnZXRGb3JtSW5mbygpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tZm9ybScpO1xuXG4gICAgY29uc3QgdGFza1RpdGxlSW5Gb3JtID0gZm9ybS5lbGVtZW50c1sndGFzay10aXRsZSddO1xuICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbkluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stZGVzY3JpcHRpb24nXTtcbiAgICBjb25zdCB0YXNrRHVlRGF0ZUluRm9ybSA9IGZvcm0uZWxlbWVudHNbJ3Rhc2stZHVlLWRhdGUnXTtcbiAgICBjb25zdCB0YXNrUHJpb3JpdHlJbkZvcm0gPSBmb3JtLmVsZW1lbnRzWyd0YXNrLXByaW9yaXR5J107XG4gICAgXG4gICAgbGV0IHRhc2tUaXRsZSA9IHRhc2tUaXRsZUluRm9ybS52YWx1ZTtcbiAgICBsZXQgdGFza0Rlc2NyaXB0aW9uID0gdGFza0Rlc2NyaXB0aW9uSW5Gb3JtLnZhbHVlO1xuICAgIGxldCB0YXNrRHVlRGF0ZSA9IHRhc2tEdWVEYXRlSW5Gb3JtLnZhbHVlO1xuICAgIGxldCB0YXNrUHJpb3JpdHkgPSB0YXNrUHJpb3JpdHlJbkZvcm0udmFsdWU7XG5cbiAgICBjb25zb2xlLmxvZyh0YXNrVGl0bGUpXG4gICAgY29uc29sZS5sb2coJ2RvbSB3b3JrcycpO1xuICAgIFxuICAgIHJldHVybiB7dGFza1RpdGxlLCB0YXNrRGVzY3JpcHRpb24sIHRhc2tEdWVEYXRlLCB0YXNrUHJpb3JpdHl9O1xufSBcbiAgICBcbi8vIGFkZCBmb2xkZXIgYnV0dG9uXG4vLyAtIHdoZW4gY2xpY2tlZCwgY3JlYXRlIGRpYWxvZyBtb2RhbFxuLy8gLSBnZXQgaW5wdXQgZnJvbSB1c2VyXG4vLyAtIHNhdmUgaW5wdXQgdmFsdWUgd2hlbiBhZGQgaXMgY2xpY2tlZFxuLy8gLSB1c2Ugc2F2ZWQgdmFsdWUgdG8gY3JlYXRlIGZvbGRlciBvbiBzaWRlYmFyXG5cblxuZnVuY3Rpb24gZ2V0Rm9sZGVyRm9ybUluZm8oKSB7XG4gICAgY29uc3QgZm9sZGVyRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xkZXItZm9ybScpO1xuXG4gICAgY29uc3QgZm9sZGVyVGl0bGVJbkZvcm0gPSBmb2xkZXJGb3JtLmVsZW1lbnRzWydmb2xkZXItdGl0bGUnXS52YWx1ZTtcblxuICAgIHJldHVybiB7Zm9sZGVyRm9ybSwgZm9sZGVyVGl0bGVJbkZvcm19O1xufVxuXG5mdW5jdGlvbiBhZGRGb2xkZXIodGl0bGVWYWx1ZSkge1xuICAgIGNvbnN0IGZvbGRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIFxufVxuXG5cbmV4cG9ydCB7XG4gICAgZ2V0Rm9ybUluZm8sXG4gICAgZ2V0Rm9sZGVyRm9ybUluZm8sXG4gICAgY3JlYXRlVGFza0VsZW1lbnQsXG4gICAgY3JlYXRlRm9sZGVyRWxlbWVudCxcbiAgICBhcHBlbmRGb2xkZXIsXG4gICAgZGlzcGxheUZvbGRlclRhc2tzLFxuICAgIGFwcGVuZFRhc2ssXG4gICAgZGlzcGxheUZvbGRlcnNcbn0iLCJpbXBvcnQge1xuICAgIFRhc2ssXG4gICAgRm9sZGVyLFxuICAgIFN1cGVyRm9sZGVyXG59IGZyb20gJy4vbW9kdWxlcy9mYWN0b3JpZXMuanMnO1xuXG5pbXBvcnQge1xuICAgIGdldEZvcm1JbmZvLFxuICAgIGdldEZvbGRlckRpYWxvZyxcbiAgICBnZXRGb2xkZXJGb3JtSW5mbyxcbiAgICBjcmVhdGVUYXNrRWxlbWVudCxcbiAgICBjcmVhdGVGb2xkZXJFbGVtZW50LFxuICAgIGFwcGVuZEZvbGRlcixcbiAgICBkaXNwbGF5Rm9sZGVyVGFza3MsXG4gICAgYXBwZW5kVGFzayxcbiAgICBkaXNwbGF5Rm9sZGVyc1xufSBmcm9tICcuL21vZHVsZXMvZG9tLmpzJztcblxuLy9TdXBlciBGb2xkZXIgXG5jb25zdCBzdXBlckZvbGRlciA9IFN1cGVyRm9sZGVyKCk7XG5cbi8vIE1haW4gRm9sZGVyIHRoYXQgdGFza3Mgd2lsbCBnbyBpbnRvXG5jb25zdCBpbmJveEZvbGRlciA9IEZvbGRlcignSW5ib3gnKTtcbmNvbnNvbGUubG9nKGluYm94Rm9sZGVyLm15dXVpZCk7XG5cbi8vIFRlc3QgdGFza3NcbmNvbnN0IHRhc2sxID0gVGFzaygnY2hvcmVzJywgJ3dhc2ggZGlzaGVzJywgJ25vdiAyMycsICdoaWdoJyk7XG5jb25zdCB0YXNrMiA9IFRhc2soJ21vdmllcycsICdhdmF0YXInLCAnbm92IDI5JywgJ21lZCcpO1xuY29uc3QgdGFzazMgPSBUYXNrKCdjb2RpbmcnLCAndG9kbyBsaXN0JywgJ2RlYyAxMCcsICdsb3cnKTtcblxuLy8gVGVzdCBmb2xkZXJzXG5jb25zdCBwcm9qMSA9IEZvbGRlcihcInByb2plY3QgMVwiKTtcbmNvbnN0IHByb2oyID0gRm9sZGVyKCdwcm9qZWN0IDInKTtcblxudGFzazEuZWRpdFRhc2soJ25ldyB0aGluZycsICdhbm90aGVyIG5ldyB0aGluZycsICduZXcgZGF0ZScsICdISUdIJyk7XG4vLyBjb25zb2xlLmxvZyhwcm9qMS50YXNrc1swXS5wcmludFRhc2soKSk7XG5cbi8vIFRlc3RpbmcgZnVuY3Rpb25hbGl0aWVzXG5wcm9qMS5hZGRUYXNrKHRhc2sxKTtcbnRhc2sxLnByaW50VGFzaygpO1xucHJvajEuYWRkVGFzayh0YXNrMik7XG5pbmJveEZvbGRlci5hZGRUYXNrKHRhc2szKTtcbmluYm94Rm9sZGVyLmFkZFRhc2sodGFzazIpO1xuaW5ib3hGb2xkZXIuYWRkVGFzayh0YXNrMSk7XG5pbmJveEZvbGRlci5kaXNwbGF5VGFza3MoKTtcbnN1cGVyRm9sZGVyLmFkZEZvbGRlcihpbmJveEZvbGRlcik7XG5jb25zb2xlLmxvZyhzdXBlckZvbGRlcik7XG5cblxuY29uc3QgYWRkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stYWRkLWJ0bicpO1xuXG5jb25zdCB0YXNrRGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stZGlhbG9nJyk7XG5cbnRhc2tEaWFsb2cuc2hvdygpO1xuXG5hZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAvLyBUaGlzIHZlcnNpb24gdXNlcyBhcnJheXNcbiAgICAvLyBsZXQgdGFza0RldGFpbHMgPSBnZXRGb3JtSW5mbygpO1xuICAgIC8vIGNvbnN0IHRlc3RUYXNrID0gVGFzayh0YXNrRGV0YWlsc1swXSwgdGFza0RldGFpbHNbMV0sIHRhc2tEZXRhaWxzWzJdLCB0YXNrRGV0YWlsc1szXSk7XG4gICAgY29uc3Qge3Rhc2tUaXRsZSwgdGFza0Rlc2NyaXB0aW9uLCB0YXNrRHVlRGF0ZSwgdGFza1ByaW9yaXR5fSA9IGdldEZvcm1JbmZvKCk7XG5cbiAgICBjb25zdCB0ZXN0VGFzayA9IFRhc2sodGFza1RpdGxlLCB0YXNrRGVzY3JpcHRpb24sIHRhc2tEdWVEYXRlLCB0YXNrUHJpb3JpdHkpO1xuICAgIGNvbnNvbGUubG9nKHRlc3RUYXNrLnByaW50VGFzaygpKTtcbn0pXG5cbmdldEZvcm1JbmZvKCk7XG4vLyBjcmVhdGVUYXNrRWxlbWVudCh0YXNrMSk7XG5kaXNwbGF5Rm9sZGVyVGFza3MoaW5ib3hGb2xkZXIpO1xuLy8gZGlzcGxheUZvbGRlcnMoc3VwZXJGb2xkZXIpO1xuXG5jb25zdCBhZGRGb2xkZXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9sZGVyLWFkZC1idG4nKTtcblxuYWRkRm9sZGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgY29uc3QgZm9sZGVyRGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvbGRlci1kaWFsb2cnKTtcbiAgICAvLyBnZXRGb2xkZXJEaWFsb2coKTtcbiAgICAvL3VzZSBzaG93TW9kYWwoKVxuICAgIGZvbGRlckRpYWxvZy5zaG93TW9kYWwoKTtcbn0pO1xuXG5jb25zdCBmb2xkZXJTdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9sZGVyLWNvbmZpcm0tYnRuJyk7XG5cbi8vIEV2ZW50IGxpc3RlbmVyIHRvIHN1Ym1pdCBmb2xkZXIgZm9ybVxuLy8gU2hvdWxkIGJlIGRvbmUgb24gdGhlIGZvcm0gaW5zdGVhZCBvZiBidXR0b24gYnV0IE1ETiBleGFtcGxlIHdpdGggZGlhbG9nIGRpZCBpdCB0aGlzIHdheVxuZm9sZGVyU3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBjb25zdCBmb2xkZXJEaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9sZGVyLWRpYWxvZycpO1xuICAgIFxuICAgIGNvbnN0IHtmb2xkZXJUaXRsZUluRm9ybX0gPSBnZXRGb2xkZXJGb3JtSW5mbygpO1xuXG4gICAgLy8gY3JlYXRlRm9sZGVyRWxlbWVudChmb2xkZXJUaXRsZUluRm9ybSk7XG4gICAgYXBwZW5kRm9sZGVyKGZvbGRlclRpdGxlSW5Gb3JtKTtcblxuICAgIGxldCBuZXdGb2xkZXIgPSBGb2xkZXIoZm9sZGVyVGl0bGVJbkZvcm0pO1xuICAgIHN1cGVyRm9sZGVyLmFkZEZvbGRlcihuZXdGb2xkZXIpO1xuICAgIC8vIGRpc3BsYXlGb2xkZXJzKCk7XG4gICAgY29uc29sZS5sb2coc3VwZXJGb2xkZXIuZm9sZGVycyk7XG5cbiAgICBmb2xkZXJEaWFsb2cuY2xvc2UoKTtcbn0pO1xuXG4iXSwibmFtZXMiOlsicmFuZG9tVVVJRCIsImNyeXB0byIsImJpbmQiLCJnZXRSYW5kb21WYWx1ZXMiLCJybmRzOCIsIlVpbnQ4QXJyYXkiLCJybmciLCJFcnJvciIsImJ5dGVUb0hleCIsImkiLCJwdXNoIiwidG9TdHJpbmciLCJzbGljZSIsIm9wdGlvbnMiLCJidWYiLCJvZmZzZXQiLCJybmRzIiwicmFuZG9tIiwiYXJyIiwidW5zYWZlU3RyaW5naWZ5IiwiVGFzayIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJjb21wbGV0ZVN0YXRlIiwiY2hhbmdlUHJpb3JpdHkiLCJuZXdQcmlvcml0eSIsImdldENvbXBsZXRlU3RhdGUiLCJzZXRDb21wbGV0ZSIsImVkaXRUYXNrIiwibmV3VGl0bGUiLCJuZXdEZXNjcmlwdGlvbiIsIm5ld0R1ZURhdGUiLCJwcmludFRhc2siLCJjb25zb2xlIiwibG9nIiwiRm9sZGVyIiwibXl1dWlkIiwidGFza3MiLCJhZGRUYXNrIiwibmV3VGFza05hbWUiLCJkaXNwbGF5VGFza3MiLCJsZW5ndGgiLCJkZWxldGVUYXNrIiwidGFza05hbWUiLCJzcGxpY2UiLCJnZXRGb3JtSW5mbyIsImZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGFza1RpdGxlSW5Gb3JtIiwiZWxlbWVudHMiLCJ0YXNrRGVzY3JpcHRpb25JbkZvcm0iLCJ0YXNrRHVlRGF0ZUluRm9ybSIsInRhc2tQcmlvcml0eUluRm9ybSIsInRhc2tUaXRsZSIsInZhbHVlIiwidGFza0Rlc2NyaXB0aW9uIiwidGFza0R1ZURhdGUiLCJ0YXNrUHJpb3JpdHkiLCJzdXBlckZvbGRlciIsImZvbGRlcnMiLCJhZGRGb2xkZXIiLCJuZXdGb2xkZXJOYW1lIiwiZGVsZXRlRm9sZGVyIiwiZm9sZGVyTmFtZSIsIlN1cGVyRm9sZGVyIiwiaW5ib3hGb2xkZXIiLCJ0YXNrMSIsInRhc2syIiwidGFzazMiLCJwcm9qMSIsImFkZEJ0biIsInNob3ciLCJhZGRFdmVudExpc3RlbmVyIiwidGVzdFRhc2siLCJmb3JFYWNoIiwidGFzayIsImxvY2F0aW9uIiwidGFza0RPTSIsInRhc2tEaXYiLCJjcmVhdGVFbGVtZW50IiwidGFza1RpdGxlSW5EaXYiLCJ0YXNrRGVzY3JpcHRpb25JbkRpdiIsInRhc2tEdWVEYXRlSW5EaXYiLCJ0YXNrUHJpb3JpdHlJbkRpdiIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUYXNrRWxlbWVudCIsImFwcGVuZFRhc2siLCJzaG93TW9kYWwiLCJlIiwicHJldmVudERlZmF1bHQiLCJmb2xkZXJEaWFsb2ciLCJmb2xkZXJUaXRsZUluRm9ybSIsImZvbGRlckZvcm0iLCJnZXRGb2xkZXJGb3JtSW5mbyIsImZvbGRlckRPTSIsImZvbGRlckRpdiIsInF1ZXJ5U2VsZWN0b3IiLCJmb2xkZXJUaXRsZSIsImNyZWF0ZUZvbGRlckVsZW1lbnQiLCJhcHBlbmRGb2xkZXIiLCJuZXdGb2xkZXIiLCJjbG9zZSJdLCJzb3VyY2VSb290IjoiIn0=